{
    "paper_id": "d21053bcea63e1e09579ecb858721b5e26a08a35",
    "metadata": {
        "title": "A Stochastic LQR Model for Child Order Placement in Algorithmic Trading *",
        "authors": [
            {
                "first": "Jackie",
                "middle": [
                    "Jianhong"
                ],
                "last": "Shen",
                "suffix": "",
                "affiliation": {
                    "laboratory": "",
                    "institution": "Financial Services New York City",
                    "location": {
                        "country": "USA"
                    }
                },
                "email": ""
            }
        ]
    },
    "abstract": [
        {
            "text": "Modern Algorithmic Trading (\"Algo\") allows institutional investors and traders to liquidate or establish big security positions in a fully automated or low-touch manner. Most existing academic or industrial Algos focus on how to \"slice\" a big parent order into smaller child orders over a given time horizon. Few models rigorously tackle the actual placement of these child orders. Instead, placement is mostly done with a combination of empirical signals and heuristic decision processes. A self-contained, realistic, and fully functional Child Order Placement (COP) model may never exist due to all the inherent complexities, e.g., fragmentation due to multiple venues, dynamics of limit order books, lit vs. dark liquidity, different trading sessions and rules. In this paper, we propose a reductionism COP model that focuses exclusively on the interplay between placing passive limit orders and sniping using aggressive takeout orders. The dynamic programming model assumes the form of a stochastic linear-quadratic regulator (LQR) and allows closed-form solutions under the backward Bellman equations. Explored in detail are model assumptions and general settings, the choice of state and control variables and the cost functions, and the derivation of the closed-form solutions.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Abstract"
        }
    ],
    "body_text": [
        {
            "text": "The following terms are frequently used throughout the paper.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion and Disclaimers 17"
        },
        {
            "text": "term meaning Algo an automated trading process based on algorithms Profile an intraday time series derived from history, e.g., for volumes IS implementation shortfall -a popular optimization-based Algo TWAP time-weighted average price -a standard profile-based Algo VWAP volume-weighted average price -a standard profile-based Algo COP child order placement DP dynamic programming LQR linear quadratic regulator with linear transitions & quadratic costs (N)BBO (national) best bid and offer of a venue or market system LOB limit order book, with buy/sell orders displayed SOR smart order router/routing FX foreign exchanges ADV average daily volume Passive Touch best bid for buy and best offer for sell Aggressive Touch best offer for buy and best bid for sell Near Touch same as Passive Touch Far Touch same as Aggressive Touch Takeout or Sniping aggressive market order at the far touch TMV true market value Positive Matrix a symmetric real matrix with positive eigenvalues",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion and Disclaimers 17"
        },
        {
            "text": "The following symbols have been consistently used in the paper.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion and Disclaimers 17"
        },
        {
            "text": "symbol meaning t n a discrete action time in dynamic programming X \u00b1 n the right/left limit of a quantity X at t n , via t n \u00b1 \u03b5 HS half spread between the BBO M id mid price between the BBO N (\u03bb)",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion and Disclaimers 17"
        },
        {
            "text": "Poisson distribution with rate \u03bb q n outstanding positions right before t n ; a state variable \u03bb n Poisson hitting rate right before t n ; a state variable u n aggressive market orders at t n ; the control variable \u03b7 market impact of aggressive orders on passive fills \u03b3 n delay cost penalty at t n ; also expressing risk aversion x n state variable right before t n ; x n = (q n , \u03bb n ) V n (x n ) the value function at t n in dynamic programming",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion and Disclaimers 17"
        },
        {
            "text": "Small retail orders can be filled by simple vanilla market or limit orders. There is no need for automated algorithmic trading (or \"Algos\") involving sophisticated strategies. Algos are primarily designed to execute sizable institutional orders from portfolio managers or traders in various funds or broker-dealers. In the current work, the term \"Algos\" is restricted to the automated execution service provided to either external or internal clients by the buy side, sell side, or specialized execution agents. A typical single-name Algo is stratified to at least two distinguishable layers, which we shall refer to as \"macro\" and \"micro\" layers or (sub-)Algos.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "(A) At the macro layer, a big parent order is sliced into smaller child orders over a series of time buckets, e.g., 5-minute intervals, which usually depend on the liquidity profiles of a security.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "(B) The micro layer handles the execution of the resulted child orders. The actual implementation and architecture could vary significantly among broker-dealers and execution agents, and constitute into the very proprietary core of all Algos.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "Most well-known Algos in the industry are named after the macro layers, e.g., TWAP, VWAP, or Implementation Shortfall (IS). These macro Algos are either configured based on historical benchmarks or optimized under proper utility objectives. The optimization techniques involve either static or dynamic frameworks, as in these sample works [1, 3, 4, 6, 7, 9, 10, 11] . Overall, the macro Algos are built upon the macro behaviors of the targeted securities, including for instance, the historical profiles of volumes, volatilities, spreads, etc, as in our earlier works in [9, 10, 11] . They do not act upon the real-time micro structure signals such as the dynamics of limit order books (LOB).",
            "cite_spans": [
                {
                    "start": 339,
                    "end": 342,
                    "text": "[1,",
                    "ref_id": "BIBREF0"
                },
                {
                    "start": 343,
                    "end": 345,
                    "text": "3,",
                    "ref_id": "BIBREF2"
                },
                {
                    "start": 346,
                    "end": 348,
                    "text": "4,",
                    "ref_id": "BIBREF3"
                },
                {
                    "start": 349,
                    "end": 351,
                    "text": "6,",
                    "ref_id": "BIBREF5"
                },
                {
                    "start": 352,
                    "end": 354,
                    "text": "7,",
                    "ref_id": "BIBREF6"
                },
                {
                    "start": 355,
                    "end": 357,
                    "text": "9,",
                    "ref_id": "BIBREF8"
                },
                {
                    "start": 358,
                    "end": 361,
                    "text": "10,",
                    "ref_id": "BIBREF9"
                },
                {
                    "start": 362,
                    "end": 365,
                    "text": "11]",
                    "ref_id": "BIBREF10"
                },
                {
                    "start": 571,
                    "end": 574,
                    "text": "[9,",
                    "ref_id": "BIBREF8"
                },
                {
                    "start": 575,
                    "end": 578,
                    "text": "10,",
                    "ref_id": "BIBREF9"
                },
                {
                    "start": 579,
                    "end": 582,
                    "text": "11]",
                    "ref_id": "BIBREF10"
                }
            ],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "The complexities of these Algos mainly reside within the micro layers. The actual real-time placement of orders on various venues is implemented at this layer, and different Algo providers may take very different approaches. For example, two offerings of the same VWAP Algo could differ significantly in terms of architecture and logic.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "In general, a micro Algo must handle actions like the following:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "(a) a dynamic decision flows for the placement actions and monitoring of their status, (b) allocation among different order types offered by all accessible venues, and (c) real-time routing to all accessible liquidity venues, including both lit and dark venues.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "In particular, the last component often assumes its own identity in most broker-dealer Algo offerings, and is called the SOR -Smart Order Router. SORs are vital for some liquid asset classes with highly fragmented markets, e.g., the common stocks in the USA. In terms of modeling techniques, macro Algos are either configured or scheduled using benchmark profiles such as TWAP or VWAP, or optimized using proper utility functions (e.g., the mean-variance framework of Almgren-Chriss [2] ; also see Shen et al. [9, 10, 11] ). Modeling of micro Algos is much more challenging due to the aforementioned multiple tasks. The main complexities inherent to market microstructures include venues, sessions, order types, and their optimal real-time management. SOR is part of this grand effort and probably the most well known or actively marketed by Algo providers. But the SOR alone is only the last segment of the placement stream, and is actually irrelevant for single-venue securities such as commodities futures or some FX products.",
            "cite_spans": [
                {
                    "start": 483,
                    "end": 486,
                    "text": "[2]",
                    "ref_id": "BIBREF1"
                },
                {
                    "start": 510,
                    "end": 513,
                    "text": "[9,",
                    "ref_id": "BIBREF8"
                },
                {
                    "start": 514,
                    "end": 517,
                    "text": "10,",
                    "ref_id": "BIBREF9"
                },
                {
                    "start": 518,
                    "end": 521,
                    "text": "11]",
                    "ref_id": "BIBREF10"
                }
            ],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "In this paper, we attempt to develop a COP model for a single-venue security. Hence SOR is out of the scope. Instead, the primary focus is on how to dynamically place and manage aggressive market orders and passive limit orders. The two order types compete in the following manner.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "(i) Aggressive market orders get filled fast and hence help accomplish order completion, but at the cost of paying a half spread (with respect to the market mid price) and information leakage that could harm trailing orders.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "(ii) Passive limit orders gain a half spread if filled, but are subject to fill uncertainty and an extra \"chasing\" cost if the market drifts away. In general, they jeopardize order completion.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "A COP Algo in this context must optimally manage the interplay between the two order types, in order to achieve the two primary objectives:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "(a) lower total cost for filled orders, and (b) a higher completion rate.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "The current work rolls out as follows. After making some reductionism assumptions, we first build the COP model based on stochastic dynamic programming (SDP). The solution to the resultant stochastic linear-quadratic regulator (LQR) problem is then worked out via the associated Bellman equations. Theoretical assumptions or practical implications are always discussed in detail along the way. The main result is summarized into Theorem 1 in Section 4.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "We believe this is the first self-contained and mathematically rigorous COP model that has a closed-form solution.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Introduction to Child Order Placement (COP)"
        },
        {
            "text": "Throughout the rest, in order to gain a more tangible sense of all the model settings, we assume a concrete working parent order with the following attributes.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "From Macro to Micro"
        },
        {
            "text": "(i) It is a \"buy\" order for a common stock, say.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "From Macro to Micro"
        },
        {
            "text": "(ii) The total quantity is Q = 100, 000 shares.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "From Macro to Micro"
        },
        {
            "text": "(iii) The average daily volume (ADV) is 2, 000, 000 shares, based on a monthly rolling window.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "From Macro to Micro"
        },
        {
            "text": "(iv) The client prefers the order to be completed during the horizon from 12:00 pm to 3:00 pm EST in the US equity market (which is however consolidated into a single-venue market to avoid SOR).",
            "cite_spans": [],
            "ref_spans": [],
            "section": "From Macro to Micro"
        },
        {
            "text": "Of course none of these example order details actually puts restrictions on the proposed COP model. For example, the model is applicable to other liquid asset classes such as futures and rates. At the macro level, Algos such as TWAP, VWAP and IS \"slice\" the parent order into smaller child orders over a series of time buckets. For illustration, assume that such an Algo works with 5minute time buckets. Then the target 3-hour execution horizon requested by the client is split into 36 time buckets. Further assume that this macro Algo decides to allocate 2, 500 shares or 25 lots to the specific time bucket [1:00pm, 1:05pm]. In practice these time knots can all be randomized for anti-gaming.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "From Macro to Micro"
        },
        {
            "text": "If the time buckets of the macro Algo are relatively big, e.g., 5 minutes, a micro-layer scheduler can be further designed to schedule the allocated 2, 500 shares, say, over finer micro bins. At this layer, sophisticated optimization may be spared in order to save time. In general, an equal partition, i.e., allocation based on TWAP, can be applied. Take the above working example for instance. The 25 lots allocated for the macro time bucket [1:00pm, 1:05pm] can be further split to 5 lots over each micro bins of 1 minute, i.e., [1:00pm, 1:01pm], [1:01pm, 1:02pm], etc. Again randomization of time knots should also be applied.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "From Macro to Micro"
        },
        {
            "text": "The introduction of finer micro time bins is necessary for most scenarios. This is because the macro time buckets must last long enough so that bucket signals are statistically meaningful. Take the VWAP or IS Algo for example. These macro Algos all depend on the temporal profiles of security volumes, volatilities, or spreads (e.g., Shen et al. [9, 10, 11] ). When the macro buckets are too brief, the profile values based on historical averaging or filtering would be too noisy and result in unreliable Algo scheduling at the macro layer. In general, bucket size should be optimized or adapted to the liquidity profiles of a given security.",
            "cite_spans": [
                {
                    "start": 346,
                    "end": 349,
                    "text": "[9,",
                    "ref_id": "BIBREF8"
                },
                {
                    "start": 350,
                    "end": 353,
                    "text": "10,",
                    "ref_id": "BIBREF9"
                },
                {
                    "start": 354,
                    "end": 357,
                    "text": "11]",
                    "ref_id": "BIBREF10"
                }
            ],
            "ref_spans": [],
            "section": "From Macro to Micro"
        },
        {
            "text": "The current work takes a reductionism approach and attempts to develop a self-contained rigorous COP model at the micro bin level. That is, the model handles the actual execution of individual child (or grandchild) orders over micro bins, e.g., 5 lots over [1:00pm, 1:01pm] for the above running example. It is a fully automated model based on the framework of stochastic linear-quadratic regulators (LQR) and allows closed-form solutions.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "From Macro to Micro"
        },
        {
            "text": "In our previous two works on macro Algos:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Reductionism and Value of the Current Work"
        },
        {
            "text": "\u2022 Shen [9] on a generic pre-trade macro Algo based on static quadratic programming in Hilbert spaces, and",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Reductionism and Value of the Current Work"
        },
        {
            "text": "\u2022 Shen [10] on a real-time adaptive macro Algo based on dynamic programming that integrates the VWAP and IS Algos, the proposed Algo models can actually be implemented in execution houses after proper model calibration is performed using their proprietary trading data. Hence it is important to point out at the outset that the current micro Algo is more a theoretical model in the spirit of reductionism. As explained earlier, it is almost impossible to have a single self-contained model to comprehensively handle the entire micro-layer execution. For instance, it is nontrivial to handle unexpected intraday trading halts or participation in various auctions. The main reductionism of the proposed model involves the following aspects.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Reductionism and Value of the Current Work"
        },
        {
            "text": "(a) It is restricted to single-venue executions and does not involve SOR modeling.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Reductionism and Value of the Current Work"
        },
        {
            "text": "(b) It deals with neither lit vs. dark venues nor complex order types (e.g., icebergs or mid-pegging).",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Reductionism and Value of the Current Work"
        },
        {
            "text": "(c) It only handles the two most basic order types -limit and market orders.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Reductionism and Value of the Current Work"
        },
        {
            "text": "Notice that in professional trading one almost never sends a \"naked\" market order. Hence by market orders we mean more precisely marketable limit orders whose limits cross the far touch.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Reductionism and Value of the Current Work"
        },
        {
            "text": "Despite the reductionism, the value of the current work can be summarized as follows.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Reductionism and Value of the Current Work"
        },
        {
            "text": "\u2022 To the academic community, to our best knowledge this is the first rigorous COP model at the micro layer, which is self-contained and allows closed-form solutions. It opens the door to more sophisticated or realistic COP models in the future.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Reductionism and Value of the Current Work"
        },
        {
            "text": "\u2022 To the Algo practitioners on Wall Street, the model does reveal the intriguing dependency and competition among different key Algo components: aggressive sniping, passive waiting, execution cost, information leakage, market impact, and the requirement of completion. The modeling techniques here can always be tweaked to facilitate existing COP processes.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Reductionism and Value of the Current Work"
        },
        {
            "text": "Recall earlier in this section, after macro bucketing and micro binning, one ends up with a COP problem like the following: to buy 5 lots over a micro bin [1:00pm, 1:01pm], or more generally, to buy q lots over a micro bin [T 0 , T 1 ] with a brief duration \u2206T = T 1 \u2212 T 0 of 30 or 60 seconds or so. The COP problem modelled herein is formulated as follows. A given micro bin [T 0 , T 1 ] is partitioned into N action times:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "In practice, one could choose periodic knots, say, \u03c4 = 5 or 10 seconds, and t n+1 = t n + \u03c4, n = 0, 1, . . . , N \u2212 1.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "Actual implementation could also have them randomized for anti-gaming. Since the micro bin duration \u2206T = T 1 \u2212 T 0 = t N \u2212 t 0 is brief, it is also assumed that the BBO, i.e., the best bid and offer, remain unchanged over the given micro bin. (This is introduced merely for convenience. In reality, the BBO can change realistically in the current model as long as one assumes that the benchmark market price is the moving mid price and that the limit order placement is cancelled and replaced whenever the BBO move so that it is effectively pegged to the BBO.)",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "Following the running example introduced earlier, we shall always work with a buy order -to buy q 0 lots over a micro bin [T 0 , T 1 ]. For a buy order, we shall introduce the following concepts:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "\u2022 the passive or near touch -the best bid of the venue, and",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "\u2022 the aggressive or far touch -the best offer of the venue.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "For a sell order the other way around holds. Furthermore, let q n denote the remaining lots right before t \u2208 [t 0 , t N ]. To simplify notation, we introduce the following convention: for any observable, variable or parameter X,",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "For a continuous X there is no difference among the three. For the proposed COP model, a sniping action (or a control in the context of dynamic programming) will take place right at a given action time t n , and hence they could differ.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "Attention -We have defaulted X n to X \u2212 n to simplify notation and equation lines.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "The proposed COP model adopts the following action plan.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "(i) At any time t, as long as q n > 0, a single-lot limit order will be placed at the passive touch.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "(ii) Whenever such a limit order is filled at t and the remainder q + t = q t \u2212 1 is still positive, a new single-lot limit order will be immediately placed at the passive touch.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "(iii) At each action time t n from t 0 , . . . , t n , . . . , t N \u22121 , if q n (which represents q \u2212 n ) still has some positive lots to trade, the COP Algo has an option to send a single-lot market order at the far touch. We shall nickname this action by \"single-lot sniping\" or simply \"sniping.\" The term \"Sniper\" or \"Sniping\" has been popularly used in the Algo world, e.g., the Sniper Algo of Credit Suisse in this 2007 article of Reuters (with an active URL link in PDF).",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "The major three characteristics of this target COP problem are: order completion, passive waiting, and aggressive sniping, which are elaborated as follows.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "The Constraint on Completion Order completion is usually enforced at the macro layer. It is either explicitly formulated into optimization as a constraint (e.g., for the IS Algo) or enforced through hard scheduling (e.g., for TWAP/VWAP Algos). For micro-layer execution, e.g., executing 5 lots within a micro bin of 30 or 60 seconds, completion can be soft or delayed, in order to better dance with the liquidity waves in the market. The unfilled can be handed over to the next micro bin, and so on so forth. The macro Algo on the top usually deploys a dedicated schedule \"keeper\" to enforce the schedules.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "Passive Limit Order at the Near Touch Recall that for convenience, the BBO have been assumed invariant over a brief micro bin [T 0 , T 1 ]. Let the unbiased mid price that represents the true market value (TMV) at the moment. Compared with other more sophisticated averaging schemes, this is usually called the simple mid. Once filled, a limit order saves a half spread HS compared with the TMV. However, if left unfilled by the target end time, limit orders can jeopardize order completion. A reasonable COP model must be able to reflect this tradeoff.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "Aggressive Sniping at the Far Touch Market or marketable orders take out liquidity from the top of the opposite LOB, i.e., the far touch. At the micro layer, market orders are always kept small, e.g., a couple of lots on average for major exchanges in US. Hence the proposed model always assumes that such small orders are filled instantaneously. Market orders fill fast and help achieve completion, but at the cost of a half spread HS. Furthermore, aggressive market orders could also leak information and result in opposite market participants or market makers biasing their perceived TMV towards the aggressive touch. As a result, they become less willing to take out \"our\" limit orders posted at the passive touch. A reasonable COP model must be able to demonstrate such tradeoffs as well.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "3 The COP Model Based on Dynamic Programming",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Placement Problem to be Modelled"
        },
        {
            "text": "We now introduce the basic assumptions for the model and process.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "Assumptions on Limit Order Placement For the placement of limit orders, the following basic assumptions are made.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "(A) The size of the limit order is always a single lot.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "(B) A single-lot limit order is placed initially at t 0 .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "(C) Afterwards, whenever the limit order is taken out by an opposite market order at time t, a new single-lot limit order is immediately replenished as long as the remaining position q + n = q n \u2212 1 is still positive.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "(D) For any time interval of duration \u2206t, as long as \"we\" do not snipe at the aggressive touch within the interval, the number W of single-lot limit orders being hit is subject to a Poisson distribution N (\u03bb\u2206t) with some rate \u03bb. That is Prob(W = n) = e \u2212\u03bb\u2206t (\u03bb\u2206t) n n! , n = 0, 1, . . . .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "It is also assumed that once being hit the entire lot is taken. Poisson distribution or process is not unfamiliar in the context of Algo trading and limit order books [8] .",
            "cite_spans": [
                {
                    "start": 167,
                    "end": 170,
                    "text": "[8]",
                    "ref_id": "BIBREF7"
                }
            ],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "Assumptions on the Aggressive Market Orders For sniping using aggressive market orders, e.g., sending a marketable order u n at time t n at the far touch, the following assumptions are made.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "(a) The ideal goal is to set u n to either a single lot or zero (i.e., no sniping), so that information leakage and market impact can be curbed. In reality, to facilitate a tractable dynamic programming (DP) formulation with closed-form solutions, the single lot constraint is not explicitly imposed. The cost function designed later will naturally encourage u n to stay small.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "(b) It is also assumed that once an aggressive market order u n is sniped, the entire order will be filled. Since the cost function in general keeps u n small, this assumption holds naturally for most liquid securities.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "(c) Since during the short duration of a micro bin, the BBO are assumed to be invariant, we adopt the following model for information leakage caused by an aggressive sniping at time t.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "Once u n lots are taken out (by \"us\") at the far touch, other market participants, including in particular market makers, will update their belief on the TMV and bias it towards the far touch. As a result, either fewer opposite participants are willing to snipe at the passive touch or market makers will also cancel their more passive inside limit orders and replace with new ones at the passive touch.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "The latter will congest the queue at the passive touch. Hence heuristically both will reduce the chance of \"our\" limit orders being hit by the market.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "Quantitatively, we assume that the Poisson hitting rate introduced in Eqn. (1) will be negatively impacted by the following linear form:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "after u n lots are sniped and filled at time t n . Here \u03b7 > 0 is a model parameter that calibrates the rate of information leakage or market impact caused by aggressive sniping. In general, it should depend on the liquidity profile of a given security.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "For instance, assume \u03bb = 5.0 lots per minute, and \u03b7 = 0.5 per lot per minute. Then a sniping of u n = 2 lots at some time t n will reduce the Poisson hitting rate according to:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "\u03bb + n = \u03bb n \u2212 \u03b7u n = 5.0 \u2212 0.5 * 2 = 4.0. The impact parameter \u03b7 can be calibrated or estimated using experimental orders that are designed specifically for this purpose.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Model and Process Assumptions"
        },
        {
            "text": "To develop the dynamic programming (DP) COP model, we first define the state variables and their transition.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "State and Control Variables, and State Transition"
        },
        {
            "text": "There are two state variables, q n and \u03bb n , or organized into a state vector x n = (q n , \u03bb n ) T , where the superscript T denotes transposition of vectors or matrices.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "State and Control Variables, and State Transition"
        },
        {
            "text": "\u2022 State variable q n denotes the outstanding lots still needed to be traded right before t n . The symbol is equivalent to q \u2212 n but with the minus superscript omitted, as set up earlier.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "State and Control Variables, and State Transition"
        },
        {
            "text": "\u2022 State variable \u03bb n denotes the Poisson hitting rate right before t n . It represents the rate the opposite aggressive orders hit \"our\" limit orders. It changes whenever \"we\" snipe a market order u n at the far touch, due to information leakage and its digestion by other market participants.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "State and Control Variables, and State Transition"
        },
        {
            "text": "The control variable is the aggressive takeout order u n that \"we\" snipe at t n at the far touch. Furthermore, let W n denote the Poisson random number of \"our\" limit orders being hit by the opposite aggressive orders. Then from t n to t n+1 (or more precisely t \u2212 n+1 ), the following state transition equations hold.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "State and Control Variables, and State Transition"
        },
        {
            "text": "In the vector form, define a = (1, \u03b7) T , z n = (W n , 0) T .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "State and Control Variables, and State Transition"
        },
        {
            "text": "Then the state vector transits as follows:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "State and Control Variables, and State Transition"
        },
        {
            "text": "All variables are assumed to be continuous, as normally done in the Algo literature. (In reality trades are mostly in whole shares or lots.) Following all the previous preparation, the COP problem is formulated as a DP problem with controls taken at one of the following action times:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "No action is taken at the terminal time knot t N . At each t n , we first define the initial candidate j (1) n for the stage cost, which is still subject to revision later on:",
            "cite_spans": [
                {
                    "start": 105,
                    "end": 108,
                    "text": "(1)",
                    "ref_id": "BIBREF0"
                }
            ],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "It is explained as follows.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "(a) The first term \u03b3 n q 2 n favors fast execution so that q n 's quickly touch down to zero. It appears in earlier works for both static and dynamic macro Algos, e.g., Algren-Chriss [2] , Hora [6] , and Shen [9, 10] , just to name a few. The penalty coefficient \u03b3 n 's are the control parameters to penalize trading delays. In general, \u03b3 n can be set in proportion to the real-time variance \u03c3 2 n of the secuity, i.e., in the form of \u03b3 n =\u03b3 n \u03c3 2 n . In addition, \u03b3 n should increase monotonically to facilitate order completion. For instance, \u03b3 N = +\u221e would enforce hard completion: q N = 0.",
            "cite_spans": [
                {
                    "start": 183,
                    "end": 186,
                    "text": "[2]",
                    "ref_id": "BIBREF1"
                },
                {
                    "start": 194,
                    "end": 197,
                    "text": "[6]",
                    "ref_id": "BIBREF5"
                },
                {
                    "start": 209,
                    "end": 212,
                    "text": "[9,",
                    "ref_id": "BIBREF8"
                },
                {
                    "start": 213,
                    "end": 216,
                    "text": "10]",
                    "ref_id": "BIBREF9"
                }
            ],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "(b) W n is the number of single-lot limit orders being taken out by opposite market orders at \"our\" passive touch. Limit orders save a half-spread HS. We incorporate the scaling of HS into \u03b3 n so that \u2212HS \u00b7 W n can be simplified to \u2212W n . Following the general Poisson setting in Eqn. (1), we assume more specifically that W n is subject to the Poisson distribution N (\u03bb + n \u2206t n ) with \u03bb + n = \u03bb n \u2212 \u03b7u n , and \u2206t n = t n+1 \u2212 t n .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "(c) u n is the number of lots that \"we\" snipe at the aggressive touch at the action time t n . It pays the cost of a half spread, i.e., HS \u00b7 u n . Since HS is scaled into \u03b3 n , it is simply expressed as u n in the stage cost.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "For a buy order, u n is preferably nonnegative. In order to facilitate a close-form solution, however, we do not explicitly impose the constraint of u n \u2265 0. When u n < 0, we shall interpret it as an aggressive sell order of size \u2212u n at the current passive touch. If this is the case, the update position will increase: q + n = q n \u2212 u n > q n . The first term \u03b3 n q 2 n will discourage such opposite trades as long as the risk aversion weights \u03b3 n 's are not negligible.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "On the other hand, compared with the market mid price, selling at the passive touch also incurs a cost of a half spread, i.e, HS \u00b7 (\u2212u n ). Hence when u n is allowed to be signed, the stage cost in Eqn. (6) should at least be revised to:",
            "cite_spans": [
                {
                    "start": 203,
                    "end": 206,
                    "text": "(6)",
                    "ref_id": "BIBREF5"
                }
            ],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "Since we intend to design a DP model with a closed-form solution, the absolute value is further revised to a squared form:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "which is the final stage cost adopted for the current model.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "When u n stays close to a single lot, u 2 n \u2243 |u n |. For |u n | > 1, this quadratic form penalizes big sizes even heavier than the linear form. It favors smaller aggressive order sizes as a result.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "Inspired by the \u0393-convergence theory and its application in multi-phase variational problems [5] , one could also introduce the double-well cost function:",
            "cite_spans": [
                {
                    "start": 93,
                    "end": 96,
                    "text": "[5]",
                    "ref_id": "BIBREF4"
                }
            ],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "This will softly enforce the binary sniping behavior -either no action with u n = 0 or sniping with a single lot u n = 1. However, such high order non-convex costs can completely thwart the effort of designing a DP model with a unique and close-form solution.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "Summary. The stage cost model in Eqn. (7) and the state transition model in Eqn. (5) define the proposed stochastic dynamic programming model for child order placement (COP).",
            "cite_spans": [
                {
                    "start": 38,
                    "end": 41,
                    "text": "(7)",
                    "ref_id": "BIBREF6"
                }
            ],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "Poisson hits on \"our\" passive limit orders during individual intervals [t k , t k+1 )'s. Then the future cost is given by J n (u n , W n | x n ) = J n (u n , . . . , u N \u22121 ; W n , . . . ,",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "Here j N (x N ) denotes the terminal cost at t N . Define the value function by:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "ranging over all state-driven policies in the form of u k = \u03c6 k (x k ), k = n, . . . , N \u2212 1. Then we have the Bellman equation at each action time t n :",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "The terminal cost at t N is defined to be",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "The other two terms are dropped out since the end of the given micro bin is reached. Next, we shall work out first the solution for the last period [t N \u22121 , t N ) to gain some tangible knowledge, and then the general solution in the framework of stochastic LQR.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "The Stage Cost"
        },
        {
            "text": "At action time t N \u22121 for the last period [t N \u22121 , t N ), the Bellman equation reads:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "For clarity in calculation, we drop the subscript N \u2212 1 so that it becomes",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "with the current state vector x = (q, \u03bb) T which is known, and \u03bb + = \u03bb \u2212 \u03b7u. The problem becomes the minimization of a single-variate function f (u | x) given x.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "Since E [W ] = \u03bb + \u2206t, and E[X 2 ] = Var(X) + E[X] 2 for a generic random variable X, one has",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "As a result, the derivative of f is:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "At the optimal u * , the derivative vanishes. Hence the optimal aggressive trading is given by:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": ",",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "In particular, the optimal policy u * = \u03c6 * (x) = \u03c6 * (q, \u03bb) is a linear function of the state variable.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "Consider the asymptotic case when \u03b3 N = +\u221e. Then one has \u03b1 * = \u03b7\u2206t 2(1 \u2212 \u03b7\u2206t) 2 , and \u03b2 * = 1 1 \u2212 \u03b7\u2206t .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "In particular, for a highly liquid security so that \u03b7 \u2243 0, the optimal policy is simply",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "That is, on the last action time t N \u22121 , the proposed COP Algo will trade the expected remaining lots that cannot be filled by the passive limit orders W (since E[W ] = \u03bb + \u2206t \u2243 \u03bb\u2206t when \u03b7 \u2243 0). This certainly makes business sense.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "In terms of the value function at t N \u22121 , one then has",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "where",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "Hence the value function for the last period can be written in the canonical quadratic form as:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "where P must be a positive definite matrix. This is because by the quadratic portion of V (x),",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "Next we show that this is not accidental.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Solution at the Last Period"
        },
        {
            "text": "In general, for n = 0, 1, . . . , N \u2212 2, assume that the value function at n + 1 is in the quadratic form:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "where P n+1 is positive definite. We now show that this implies that",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "where P n is also positive definite. Furthermore, we show that the optimal action is given in the linear form:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "The objective is to derive \u03b1 n , \u03b2 n , P n , b n and c n from P n+1 , b n+1 and c n+1 recursively. For clarity, we drop the subscript n so that for any variable or parameter X, we use instead X n \u2212\u2192 X, and X n+1 \u2212\u2192 X 1 .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "In particular, the value function at n + 1 now assumes the cleaner form:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "Also the state transition equation becomes:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "where \u03b7 is a model parameter or constant that represents the market impact or information leakage and W is the Poisson random hits on \"our\" passive limit orders over [t n , t n+1 ). Then the value function at t n is given by:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "Let p 11 denote the (1,1)-element of P 1 , and z E = (\u03bb + \u2206t, 0) T = E[z]. Then",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "We now Define",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "where I 2 denote the 2 by 2 identity matrix. Then",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "Hence we have, with l 11 = 1 \u2212 p 11 ,",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "Assume that",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "On the other hand, direct differentiation gives",
            "cite_spans": [],
            "ref_spans": [],
            "section": "General Solution to the Stochastic LQR"
        },
        {
            "text": "Therefore, the optimal policy at t n\u22121 is given by",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Hence we have"
        },
        {
            "text": "Next we derive the associated value function V (x) = f (u * | x). For convenience, for any positive definite matrix Q and any real vector x of the same dimension, we define the Q-stretched Euclidean norm by:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Hence we have"
        },
        {
            "text": "x 2 Q = x T Qx. Then the coefficient A is simply 1 + h 2 P 1 . Since 2Au * = B, one has 2Au 2 * = Bu * . Hence by Eqn. (18),",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Hence we have"
        },
        {
            "text": "where the quadratic parameters are given by",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Hence we have"
        },
        {
            "text": "where l 11 = 1 \u2212 P 1 (1, 1) and \u03b1 * , \u03b2 * are given as in Eqn. (21). We now show that P is positive definite.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Hence we have"
        },
        {
            "text": "Lemma 1 If P 1 is positive definite, so must be P .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Hence we have"
        },
        {
            "text": "Proof. Since J = I 2 \u2212 L is non-singular as in Eqn (17), it suffices to show that Q is positive definite.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Hence we have"
        },
        {
            "text": "For any non-zero vector v \u2208 R 2 , previously we have used the notation v P 1 to denote the P 1 -stretched Euclidean distance. More generally, we use v, h P 1 := v T P 1 h to denote the P 1 -stretched inner product. By the Cauchy-Schwarz Theorem, one has v, h P 1 \u2264 v P 1 \u00b7 h P 1 .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Hence we have"
        },
        {
            "text": "Since this holds for any non-zero vector v, Q and hence P must be positive definite.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Then back to Q, one has"
        },
        {
            "text": "We have thus established the following theorem, with J n and h n defined as in Eqn. (17):",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Then back to Q, one has"
        },
        {
            "text": "They are constant for equal partitioning when \u2206t n = t n+1 \u2212 t n 's are all the same.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Then back to Q, one has"
        },
        {
            "text": "Theorem 1 Let V N (x N ) = \u03b3 N q 2 N be the terminal cost at the ending time t N . Then at each action time t n with n < N , there exist a positive definite 2 by 2 matrix P n , a 2 by 1 vector b n , a scalar c n , such that the value function V n is given by: V n (x n ) = x T n P n x + b T n x n + c n = (q n , \u03bb n )P n q n \u03bb n + b T n q n \u03bb n + c n .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Then back to Q, one has"
        },
        {
            "text": "The optimal policy u n is given by the linear form using parameters at t n+1 : u * n = \u03c6 n (x n ) = \u03b1 * n + x T n \u03b2 * n , with \u03b1 * n = b T n+1 h n \u2212 (1 \u2212 P n+1 (1, 1))\u03b7\u2206t n 2(1 + h T n P n+1 h n )",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Then back to Q, one has"
        },
        {
            "text": ", and \u03b2 * n = J T n P n+1 h n 1 + h T n P n+1 h n ,",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Then back to Q, one has"
        },
        {
            "text": "where P n+1 (1, 1) denotes the (1,1)-element of P n+1 . Furthermore, the structure of the value functions also cascades backwards as follows:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Then back to Q, one has"
        },
        {
            "text": "with n = N \u2212 1, . . . , 1, 0, and terminal values P N = diag(\u03b3 N , 0), b N = 0 and c N = 0.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Then back to Q, one has"
        },
        {
            "text": "We conclude the current work with the following comments and disclaimers.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion and Disclaimers"
        },
        {
            "text": "(1) The proposed dynamic programming COP Algo had not been the internal or external product of any execution houses where the author worked previously. Any potential industrial conflict or suspected proprietary trespass should be promptly directed to the attention of the author, together with necessary evidences.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion and Disclaimers"
        },
        {
            "text": "(2) In the spirit of reductionism and the pursuit of a dynamic programming COP model with closed-form solutions, the current model does not address other important execution or implementation details, including fragmented venues in the national market system (NMS), different trading sessions and rules, various order types, lit vs. dark, and so on.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion and Disclaimers"
        },
        {
            "text": "(3) The current work focuses exclusively on the dynamic interplay between aggressive takeout orders and passive limit orders. The price improvement or cost is represented by a half spread. Information leakage or the market impact of aggressive orders is reflected in the reduction of Poisson hitting rates on passive limit orders.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion and Disclaimers"
        },
        {
            "text": "(4) Like some earlier DP macro Algos, risk aversion is implemented by the delay cost in the stage cost model. It facilitates soft completion of a given child order over its designated micro time bin. Hard completion or catchup is usually implemented at the macro layer.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion and Disclaimers"
        },
        {
            "text": "(5) If the results here are to be integrated into an existing COP program in an execution house, a practitioner should apply some heuristic but necessary overlays. For instance, u * n \u2264 0 can be interpreted as no sniping, while u * n > 0 should also be capped by the outstanding position q n .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion and Disclaimers"
        },
        {
            "text": "(6) Overall, the author wishes that the current model could inspire more similar and rigorous works that can improve the heuristic decision trees prevailing in the COP processes in the contemporary Algo industry.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conclusion and Disclaimers"
        }
    ],
    "bib_entries": {
        "BIBREF0": {
            "ref_id": "b0",
            "title": "Optimal trading with stochastic liquidity and volatility",
            "authors": [
                {
                    "first": "R",
                    "middle": [],
                    "last": "Almgren",
                    "suffix": ""
                }
            ],
            "year": 2012,
            "venue": "SIAM J. Financial Math",
            "volume": "3",
            "issn": "",
            "pages": "163--181",
            "other_ids": {}
        },
        "BIBREF1": {
            "ref_id": "b1",
            "title": "Optimal execution of portfolio transactions",
            "authors": [
                {
                    "first": "R",
                    "middle": [],
                    "last": "Almgren",
                    "suffix": ""
                },
                {
                    "first": "N",
                    "middle": [],
                    "last": "Chriss",
                    "suffix": ""
                }
            ],
            "year": 2000,
            "venue": "J. Risk",
            "volume": "3",
            "issn": "",
            "pages": "5--39",
            "other_ids": {}
        },
        "BIBREF2": {
            "ref_id": "b2",
            "title": "Optimal control of execution costs",
            "authors": [
                {
                    "first": "D",
                    "middle": [],
                    "last": "Bertsimas",
                    "suffix": ""
                },
                {
                    "first": "A",
                    "middle": [
                        "W"
                    ],
                    "last": "Lo",
                    "suffix": ""
                }
            ],
            "year": 1998,
            "venue": "J. Financial Markets",
            "volume": "1",
            "issn": "1",
            "pages": "1--50",
            "other_ids": {}
        },
        "BIBREF3": {
            "ref_id": "b3",
            "title": "Optimal control of trading algorithms: a general impulse control approach",
            "authors": [
                {
                    "first": "B",
                    "middle": [],
                    "last": "Bouchard",
                    "suffix": ""
                },
                {
                    "first": "N.-M",
                    "middle": [],
                    "last": "Dang",
                    "suffix": ""
                },
                {
                    "first": "C.-A",
                    "middle": [],
                    "last": "Lehalle",
                    "suffix": ""
                }
            ],
            "year": 2011,
            "venue": "SIAM J. Finan. Math",
            "volume": "2",
            "issn": "1",
            "pages": "404--438",
            "other_ids": {}
        },
        "BIBREF4": {
            "ref_id": "b4",
            "title": "Image Processing and Analysis: variational, PDE, wavelet, and stochastic methods",
            "authors": [
                {
                    "first": "T",
                    "middle": [
                        "F"
                    ],
                    "last": "Chan",
                    "suffix": ""
                },
                {
                    "first": "J",
                    "middle": [],
                    "last": "Shen",
                    "suffix": ""
                }
            ],
            "year": 2005,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF5": {
            "ref_id": "b5",
            "title": "Tactical liquidity trading and intraday volume. Preprint",
            "authors": [
                {
                    "first": "Merell",
                    "middle": [],
                    "last": "Hora",
                    "suffix": ""
                }
            ],
            "year": 2006,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "1--28",
            "other_ids": {}
        },
        "BIBREF6": {
            "ref_id": "b6",
            "title": "Optimal liquidity trading. Yale School of Management Working Papers",
            "authors": [
                {
                    "first": "G",
                    "middle": [],
                    "last": "Huberman",
                    "suffix": ""
                },
                {
                    "first": "W",
                    "middle": [],
                    "last": "Stanzl",
                    "suffix": ""
                }
            ],
            "year": 2001,
            "venue": "YSM",
            "volume": "165",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF7": {
            "ref_id": "b7",
            "title": "Optimal trading strategy and supply/demand dynamics",
            "authors": [
                {
                    "first": "A",
                    "middle": [],
                    "last": "Obizhaeva",
                    "suffix": ""
                },
                {
                    "first": "J",
                    "middle": [],
                    "last": "Wang",
                    "suffix": ""
                }
            ],
            "year": 2013,
            "venue": "J. Financial Markets",
            "volume": "16",
            "issn": "1",
            "pages": "1--32",
            "other_ids": {}
        },
        "BIBREF8": {
            "ref_id": "b8",
            "title": "A pre-trade algorithmic trading model under given volume measures and generic price dynamics",
            "authors": [
                {
                    "first": "J",
                    "middle": [],
                    "last": "Shen",
                    "suffix": ""
                }
            ],
            "year": 2015,
            "venue": "Applied Math. Res. eXpress",
            "volume": "",
            "issn": "1",
            "pages": "64--98",
            "other_ids": {}
        },
        "BIBREF9": {
            "ref_id": "b9",
            "title": "Hybrid IS-VWAP dynamic algorithmic trading via LQR",
            "authors": [
                {
                    "first": "J",
                    "middle": [],
                    "last": "Shen",
                    "suffix": ""
                }
            ],
            "year": 2017,
            "venue": "Social Sci. Res. Network (SSRN) Preprint",
            "volume": "",
            "issn": "",
            "pages": "1--23",
            "other_ids": {}
        },
        "BIBREF10": {
            "ref_id": "b10",
            "title": "Styled dynamic algorithmic trading and the MV-MVP style",
            "authors": [
                {
                    "first": "J",
                    "middle": [],
                    "last": "Shen",
                    "suffix": ""
                },
                {
                    "first": "Y",
                    "middle": [],
                    "last": "Yu",
                    "suffix": ""
                }
            ],
            "year": 2014,
            "venue": "Social Sci. Res. Network (SSRN) Preprint",
            "volume": "",
            "issn": "",
            "pages": "1--18",
            "other_ids": {}
        }
    },
    "ref_entries": {
        "FIGREF0": {
            "text": "Macro to Micro . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5 2.2 Reductionism and Value of the Current Work . . . . . . . . . . . . . . . . . . . . . . 6 2.3 The Placement Problem to be Modelled . . . . . . . . . . . . . . . . . . . . . . . . . 7 3 The COP Model Based on Dynamic Programming 8 3.1 Model and Process Assumptions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8 3.2 State and Control Variables, and State Transition . . . . . . . . . . . . . . . . . . . . 10 3.3 The Stage Cost . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10 4 Bellman Equations and Optimal Solutions 11 4.1 Value Functions V (x) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11 4.2 Solution at the Last Period . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12 4.3 General Solution to the Stochastic LQR . . . . . . . . . . . . . . . . . . . . . . . . . 13",
            "latex": null,
            "type": "figure"
        },
        "FIGREF1": {
            "text": "f erP rice + BestBidP rice)",
            "latex": null,
            "type": "figure"
        }
    },
    "back_matter": [
        {
            "text": "The current work is designed to be exclusively published in the Social Sciences Research Network (SSRN) or arXiv preprint server. Its commercial or openjournal publication is prohibited without the prior consent of the author. The current free style accommodates informative cover pages and colored text boxes that help enhance the reading experience.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "acknowledgement"
        },
        {
            "text": "Jackie Shen is very grateful to all the colleagues at the electronic or algorithmic trading desks of J.P. Morgan, Barclays and Goldman Sachs, esp. to many of our hard-working IT, RISK, and COMPLIANCE colleagues whose names hardly appear in the headlines, for their daily professional assistance as well as generous personal support. Reliable and healthy electronic trading would be impossible without solid IT implementations of databases, data streaming, servers, networks, and multiple inter-dependent Algo components, or effective risk management and compliance controls.This work was completed when the pandemic Covid-19 was sweeping through the entire globe mercilessly. Under tremendous mental pressure living in the epicenter of New York, the author is extremely grateful to his family, friends, and colleagues, as well as thousands of courageous and selfless medical professionals, policemen and policewomen, and fire fighters of this great city.The pandemic has actually brought the people in the city and around the globe much closer and more united, as my 9-year old observes from her numerous Zoom online classes and chats, as well as all the touching stories around the world on fighting against the virus. Beyond A.I. or automated trading \"robots\" as the current work has covered, the pandemic has grounded all of us to the very core meaning of human beings and human societies. At the end of this darkest storm there will be a brightest rainbow -so colorful, refreshing, and full of new hopes.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Acknowledgments"
        }
    ]
}