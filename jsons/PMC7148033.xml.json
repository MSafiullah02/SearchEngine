{
    "paper_id": "PMC7148033",
    "metadata": {
        "title": "Reproducibility is a Process, Not an Achievement: The Replicability of IR Reproducibility Experiments",
        "authors": [
            {
                "first": "Joemon",
                "middle": [
                    "M."
                ],
                "last": "Jose",
                "suffix": "",
                "email": "joemon.jose@glasgow.ac.uk",
                "affiliation": {}
            },
            {
                "first": "Emine",
                "middle": [],
                "last": "Yilmaz",
                "suffix": "",
                "email": "emine.yilmaz@ucl.ac.uk",
                "affiliation": {}
            },
            {
                "first": "Jo\u00e3o",
                "middle": [],
                "last": "Magalh\u00e3es",
                "suffix": "",
                "email": "jm.magalhaes@fct.unl.pt",
                "affiliation": {}
            },
            {
                "first": "Pablo",
                "middle": [],
                "last": "Castells",
                "suffix": "",
                "email": "pablo.castells@uam.es",
                "affiliation": {}
            },
            {
                "first": "Nicola",
                "middle": [],
                "last": "Ferro",
                "suffix": "",
                "email": "ferro@dei.unipd.it",
                "affiliation": {}
            },
            {
                "first": "M\u00e1rio",
                "middle": [
                    "J."
                ],
                "last": "Silva",
                "suffix": "",
                "email": "mjs@inesc-id.pt",
                "affiliation": {}
            },
            {
                "first": "Fl\u00e1vio",
                "middle": [],
                "last": "Martins",
                "suffix": "",
                "email": "flaviomartins@acm.org",
                "affiliation": {}
            },
            {
                "first": "Jimmy",
                "middle": [],
                "last": "Lin",
                "suffix": "",
                "email": "jimmylin@uwaterloo.ca",
                "affiliation": {}
            },
            {
                "first": "Qian",
                "middle": [],
                "last": "Zhang",
                "suffix": "",
                "email": null,
                "affiliation": {}
            }
        ]
    },
    "body_text": [
        {
            "text": "In the broad discussion on reproducibility in the computational sciences, there has not been, at least in our view, much discussion of the fact that reproducibility is an ongoing process, not just an achievement\u2014a \u201ccheckbox\u201d we \u201ctick off\u201d and then continue going about our business.",
            "cite_spans": [],
            "section": "Introduction",
            "ref_spans": []
        },
        {
            "text": "There are many reasons why reproducibility is a worthwhile goal, ranging from demonstrating good stewardship of public resources (who fund a large portion of research worldwide) to the fact that reproducibility is intrinsic to the scientific process itself. Reproducibility enhances the veracity of findings and supports the iterative process of knowledge accumulation through which researchers build on each other\u2019s results.",
            "cite_spans": [],
            "section": "Introduction",
            "ref_spans": []
        },
        {
            "text": "The general discussion about reproducibility implicitly treats it as an achievement: a particular finding was reproduced successfully. And as a result, we (the scientific community) gain greater confidence in the veracity of the claims. This perspective is entirely appropriate in, for example, the physical or life sciences. Once we unravel the mystery of a particular physical phenomena, it is unlikely to change. Furthermore, reproduction efforts, for the most part, need to start \u201cfrom scratch\u201d, with a completely independent set of experiments. Although further studies refine our understanding over time (e.g., Newton\u2019s vs. Einstein\u2019s perspective on gravity), subsequent experiments are usually driven by new research questions, and cannot be considered reproduction efforts per se.",
            "cite_spans": [],
            "section": "Introduction",
            "ref_spans": []
        },
        {
            "text": "Reproducibility in the computational sciences, on the other hand, has many fundamentally different characteristics. A successful effort to reproduce a result typically yields a computational artifact that, ideally, should be executable by other researchers and remain functional over time. We explore exactly these desiderata and espouse the viewpoint that reproducibility in the computational sciences should not be viewed as an achievement (i.e., \u201cwe reproduced the technique of Yang et al. and confirm their findings\u201d) but rather a process.",
            "cite_spans": [],
            "section": "Introduction",
            "ref_spans": []
        },
        {
            "text": "Before proceeding, it is helpful to more precisely define our terminology. Here, we adopt recent ACM guidelines pertaining to artifact review and badging,1 where reproducibility refers to artifacts created by an independent group to recreate a result, and replicability refers to using an existing artifact to recreate a result. Thus, we are concerned with the replicability of previous reproducibility (or replicability) experiments. That is, can we still rerun old computational artifacts to replicate their results?",
            "cite_spans": [],
            "section": "Introduction",
            "ref_spans": []
        },
        {
            "text": "As a case study, we attempt to replicate results from the Open-Source IR Reproducibility Challenge from 2015 [8] (henceforth, OSIRRC 2015). To quote: \u201cthe product is a repository that contains all code necessary to generate competitive ad hoc retrieval baselines, such that with a single script, anyone with a copy of the collection can reproduce (sic) the submitted runs.\u201d Four years later, can we still replicate those results? The answer, perhaps unsurprisingly, is no for most of the artifacts in a modern computational environment.",
            "cite_spans": [
                {
                    "start": 110,
                    "end": 111,
                    "mention": "8",
                    "ref_id": "BIBREF13"
                }
            ],
            "section": "Introduction",
            "ref_spans": []
        },
        {
            "text": "One might wonder, why would anyone want to run old code, and who cares? We present two compelling scenarios: First, findings in the computational sciences are always couched in some computational context. Take a simple example: algorithm A is faster than algorithm B, but the experiments were conducted on magnetic disks. With memory-resident data structures, does the finding still hold? Verification of results should be a continual process as computational contexts change: the shift from magnetic disks to SSDs, the advent of multi-core computing, etc. Although we do not undertake such an examination in this paper due to limited space, being able to replicate results using old computational artifacts is a pre-requisite. Second, another compelling scenario is long-term software preservation [11], especially for artifacts that have historical value, in the same way that there is active interest in preserving old video games today. For example, the SMART system [14] might fall into this category.",
            "cite_spans": [
                {
                    "start": 800,
                    "end": 802,
                    "mention": "11",
                    "ref_id": "BIBREF2"
                },
                {
                    "start": 972,
                    "end": 974,
                    "mention": "14",
                    "ref_id": "BIBREF5"
                }
            ],
            "section": "Introduction",
            "ref_spans": []
        },
        {
            "text": "The contribution of this work is a discussion as well as a specific case study examining the long-term sustainability of reproducibility efforts. We grapple with issues that are under-explored in the community\u2014for example, our questions do not naturally fit into the Platform, Research goal, Implementation, Method, Actor, and Data (PRIMAD) model [6] that attempts to capture the multi-faceted aspects of reproducibility. Of course, platforms change over time, but this change is an inevitable consequence of the passage of time; in other words, \u201cplatform\u201d is a dependent variable, not an independent variable, in our conception. PRIMAD implicitly assumes a static view of reproducibility, as opposed to the process-oriented view we advocate. More concretely, from the successes as well as failures in replicating OSIRRC 2015, we are able to extract a number of \u201clessons learned\u201d that can be further distilled into best practices, especially to inform ongoing efforts such as the latest iteration of OSIRRC [3].",
            "cite_spans": [
                {
                    "start": 348,
                    "end": 349,
                    "mention": "6",
                    "ref_id": "BIBREF11"
                },
                {
                    "start": 1008,
                    "end": 1009,
                    "mention": "3",
                    "ref_id": "BIBREF8"
                }
            ],
            "section": "Introduction",
            "ref_spans": []
        },
        {
            "text": "OSIRRC 2015 billed itself as providing scripts that allow any researcher to recreate, \u201cout of the box\u201d, a number of baseline runs on the Gov2 web collection on topics 701\u2013850 from the TREC Terabyte Tracks (2004\u20132006) [4]. Our experiments put these claims to the test. We cloned the git repository2 and proceeded to run the dotgov2.sh script associated with each system after changing the location of the document collection in a common settings script. As designed, the single script should handle all aspects of producing an ad hoc experimental run from scratch, including building the inverted index, performing retrieval, and using trec_eval to generate effectiveness figures. In a few cases, the script worked exactly \u201cas is\u201d, but more often than not, we encountered failures, which we then spent some time debugging (details below).",
            "cite_spans": [
                {
                    "start": 218,
                    "end": 219,
                    "mention": "4",
                    "ref_id": "BIBREF9"
                }
            ],
            "section": "Replication Study",
            "ref_spans": []
        },
        {
            "text": "We ran experiments on two different servers, which we refer to as \u201cold\u201d and \u201cnew\u201d for convenience. The \u201cold server\u201d was purchased in Spring 2017 and runs Ubuntu 16.04.2, with Oracle Java version 1.8.0_121 and gcc 5.4.0. The \u201cnew server\u201d was purchased in Summer 2019 and runs Ubuntu 18.04.2, with Oracle Java version 11.0.2 and gcc 7.4.0.\n",
            "cite_spans": [],
            "section": "Replication Study",
            "ref_spans": []
        },
        {
            "text": "The results of our replication study are summarized in Table 1; we refer the reader to the caption and our revised repository3 for details. In summary, we were able to replicate results from five of the seven systems on the old server, and for two we obtained exactly the same AP scores; the remaining systems saw minor score differences. On the new server, we were only able to replicate results from one of the systems. Details for each system are presented below:",
            "cite_spans": [],
            "section": "Replication Study",
            "ref_spans": [
                {
                    "start": 61,
                    "end": 62,
                    "mention": "1",
                    "ref_id": "TABREF0"
                }
            ]
        },
        {
            "text": "ATIRE [15] and JASS [9] are closely related in that the latter depends on the former. On the old server, the dotgov2.sh script worked without modification for both systems, and for ATIRE we obtained exactly the same AP scores as in the OSIRRC 2015 paper. Unfortunately, ATIRE fails to compile on the new server, and thus we were unable to replicate results there (and JASS by extension). Both systems are implemented in C++, so the critical difference here is the version of gcc (5.4.0 vs. 7.4.0); the compilation error arises from namespace clashes and different definitions of std::unordered_map between C++11 and C++17.",
            "cite_spans": [
                {
                    "start": 7,
                    "end": 9,
                    "mention": "15",
                    "ref_id": "BIBREF6"
                },
                {
                    "start": 21,
                    "end": 22,
                    "mention": "9",
                    "ref_id": "BIBREF14"
                }
            ],
            "section": "Replication Study",
            "ref_spans": []
        },
        {
            "text": "Indri [12] results were replicable on the old server without any modifications to the dotgov2.sh script, but the AP scores differed slightly from those reported in the OSIRRC 2015 paper. On the new server, Indri compiles successfully but immediately encounters a segmentation fault when starting to build the index.",
            "cite_spans": [
                {
                    "start": 7,
                    "end": 9,
                    "mention": "12",
                    "ref_id": "BIBREF3"
                }
            ],
            "section": "Replication Study",
            "ref_spans": []
        },
        {
            "text": "Galago [2] retrieval runs aborted due to a thrown exception after the indexing process finished without any obvious signs of error; the same issue was encountered on both servers. The exception appears to come from TupleFlow, a custom MapReduce-like framework used by Galago, which never gained widespread adoption and thus likely suffers from robustness issues.",
            "cite_spans": [
                {
                    "start": 8,
                    "end": 9,
                    "mention": "2",
                    "ref_id": "BIBREF7"
                }
            ],
            "section": "Replication Study",
            "ref_spans": []
        },
        {
            "text": "Lucene runs successfully without any modification to the dotgov2.sh script on the old server; we encountered two tiny differences in AP scores compared to the OSIRRC 2015 paper, we suspect due to tie-breaking effects [10]. Lucene, however, failed to run on the new server, throwing exceptions during indexing. The critical difference is the version of Java (8 vs. 11). In the Lucene version used in these experiments (5.2.1), a bug was noted in Oracle\u2019s JRE implementation of MMapDirectory, which is unable to properly close the underlying OS file handle. The workaround deployed at that time used an undocumented internal cleanup functionality, which no longer works on Java 11.",
            "cite_spans": [
                {
                    "start": 218,
                    "end": 220,
                    "mention": "10",
                    "ref_id": "BIBREF1"
                }
            ],
            "section": "Replication Study",
            "ref_spans": []
        },
        {
            "text": "MG4J [1] failed for the simple reason that the dotgov2.sh script attempts to fetch a tarball that was no longer available at the specified URL.",
            "cite_spans": [
                {
                    "start": 6,
                    "end": 7,
                    "mention": "1",
                    "ref_id": "BIBREF0"
                }
            ],
            "section": "Replication Study",
            "ref_spans": []
        },
        {
            "text": "Terrier [13] was the only system where the dotgov2.sh script worked without modification on both the old server and the new server. Furthermore, we obtained exactly the same AP scores as the OSIRRC 2015 paper. However, the paper references two additional retrieval models, \u201cDPH + Bo1 QE\u201d and \u201cDPH + Prox SD\u201d; these runs were not included in the same script (unlike for most of the other systems). They were, in fact, provided in separate scripts (also available in the repository), but we did not discover this fact until much later; as a result, we were not able to replicate those two runs in time.",
            "cite_spans": [
                {
                    "start": 9,
                    "end": 11,
                    "mention": "13",
                    "ref_id": "BIBREF4"
                }
            ],
            "section": "Replication Study",
            "ref_spans": []
        },
        {
            "text": "After encountering the initial errors with each of the systems, we did undertake efforts to debug the various issues. Ultimately, we did get two additional systems (ATIRE and Lucene) working on the new server. However, we consider it unreasonable to expect such debugging efforts from an envisioned user of the OSIRRC repository. Anything other than scripts \u201cjust working\u201d should be consider a replicability failure, and a failure of OSIRRC to deliver on its promise.",
            "cite_spans": [],
            "section": "Replication Study",
            "ref_spans": []
        },
        {
            "text": "For OSIRRC 2015, the passage of time has been ruthless in destroying the functionality of the computational artifacts. Although each artifact broke in its own idiosyncratic way, we do notice common themes. Given continued interest in reproducibility, most notably a new Docker-based iteration of OSIRRC in 2019 [3],4 these \u201clessons learned\u201d might form the basis of future best practices.",
            "cite_spans": [
                {
                    "start": 312,
                    "end": 313,
                    "mention": "3",
                    "ref_id": "BIBREF8"
                }
            ],
            "section": "Lessons Learned",
            "ref_spans": []
        },
        {
            "text": "Where Do These Results Come From? In many cases, the correspondence between figures in the paper and execution traces of the computational artifacts (even when successful) was not clear. As a simple example, Table 1 originally contained an \u201cAll\u201d column, which, inexplicably, does not simply appear to be the average of each set of topics. The execution trace of each dotgov2.sh script was different: some printed out AP scores directly to stdout; others didn\u2019t, and silently completed execution. In the latter cases, it was necessary to dig through system outputs to find the actual scores; the fact that each system used completely different naming conventions for output runs, evaluation results, and log files made this task non-trivial.",
            "cite_spans": [],
            "section": "Lessons Learned",
            "ref_spans": [
                {
                    "start": 214,
                    "end": 215,
                    "mention": "1",
                    "ref_id": "TABREF0"
                }
            ]
        },
        {
            "text": "Due to space restrictions, we focused on replicating effectiveness results in this paper, but OSIRRC 2015 also evaluated index size and query latency. However, the repository offered few details on how to extract figures corresponding to those reported in the paper. As one example, it wasn\u2019t clear where each system stored its index: some were contained in directories, some were single files, and others were groups of files (and in many cases, not intuitively named).",
            "cite_spans": [],
            "section": "Lessons Learned",
            "ref_spans": []
        },
        {
            "text": "The high-level lesson here is that researchers should strive to make the correspondence between documentation, repository organization, execution traces, and reported figures in papers as explicit as possible\u2014all these facets have to \u201cline up\u201d for successful replication. This can be viewed as an endorsement of \u201cexecutable papers\u201d [5, 7]. Although this idea dates back decades (cf. literate programming), the popularity of notebooks (e.g., Jupyter) makes this much easier to realize today.",
            "cite_spans": [
                {
                    "start": 333,
                    "end": 334,
                    "mention": "5",
                    "ref_id": "BIBREF10"
                },
                {
                    "start": 336,
                    "end": 337,
                    "mention": "7",
                    "ref_id": "BIBREF12"
                }
            ],
            "section": "Lessons Learned",
            "ref_spans": []
        },
        {
            "text": "External Dependencies. Six of the seven systems in OSIRRC 2015 began by pulling in an external dependency (namely, the search engine itself) over the internet; the only exception, Lucene, had jars directly checked into the repository. \u201cLink rot\u201d is a well-known phenomenon, and the replication effort for MG4J failed at the outset because the artifact was no longer available. To ensure the long-term availability of resources at stable URLs, we advocate the use of dedicated archiving services such as Zenodo (or other domain-specific data repositories), which also provide citeable DOIs.",
            "cite_spans": [],
            "section": "Lessons Learned",
            "ref_spans": []
        },
        {
            "text": "Platform Dependencies. As the saying goes, \u201cchange is the only constant\u201d, and computing platforms inevitably evolve, often in non-compatible ways: the two poignant examples here being JVM differences and compiler differences. Unlike external dependencies discussed above, it would be impractical to directly store and manage platform dependencies inside the OSIRRC 2015 repository, but here the use of Docker in OSIRRC 2019 represents an improvement. Docker allows platforms to be isolated in \u201clayers\u201d that can be composed to form images in a lightweight manner (compared to VMs); images themselves can be stored at stable locations (for example, in Docker Hub). Admittedly, this design does not guard against the obsolescence of Docker itself; despite the popularity of Docker today, one day it too will be superseded by new practices.",
            "cite_spans": [],
            "section": "Lessons Learned",
            "ref_spans": []
        },
        {
            "text": "The 2019 edition of OSIRRC represents the next iteration of community efforts to advance the cause of reproducibility in information retrieval. It seems that many of the lessons discussed in the previous section have already been incorporated into its design. However, only time will tell if those efforts are successful: it would be interesting to try and rerun those experiments in 2023, the same distance we are from the initial OSIRRC efforts in 2015.",
            "cite_spans": [],
            "section": "Conclusions",
            "ref_spans": []
        }
    ],
    "ref_entries": {
        "TABREF0": {
            "text": "Table 1.: Summary of our replicability experiments, reporting average precision (AP) across different topics for different system combinations. Bolded headings represent rows copied directly from the OSIRRC 2015 paper; (old) and (new) refer to replication attempts on our \u201cold\u201d and \u201cnew\u201d servers, respectively. AP scores that differ from OSIRRC 2015 are enclosed in parentheses.\n",
            "type": "table"
        }
    },
    "back_matter": [],
    "bib_entries": {
        "BIBREF0": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF1": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF2": {
            "title": "A framework for software preservation",
            "authors": [
                {
                    "first": "B",
                    "middle": [],
                    "last": "Matthews",
                    "suffix": ""
                },
                {
                    "first": "A",
                    "middle": [],
                    "last": "Shaon",
                    "suffix": ""
                },
                {
                    "first": "J",
                    "middle": [],
                    "last": "Bicarregui",
                    "suffix": ""
                },
                {
                    "first": "C",
                    "middle": [],
                    "last": "Jones",
                    "suffix": ""
                }
            ],
            "year": 2010,
            "venue": "Int. J. Digit. Curation",
            "volume": "5",
            "issn": "1",
            "pages": "91-105",
            "other_ids": {
                "DOI": [
                    "10.2218/ijdc.v5i1.145"
                ]
            }
        },
        "BIBREF3": {
            "title": "Combining the language model and inference network approaches to retrieval",
            "authors": [
                {
                    "first": "D",
                    "middle": [],
                    "last": "Metzler",
                    "suffix": ""
                },
                {
                    "first": "WB",
                    "middle": [],
                    "last": "Croft",
                    "suffix": ""
                }
            ],
            "year": 2004,
            "venue": "Inf. Process. Manag.",
            "volume": "40",
            "issn": "5",
            "pages": "735-750",
            "other_ids": {
                "DOI": [
                    "10.1016/j.ipm.2004.05.001"
                ]
            }
        },
        "BIBREF4": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF5": {
            "title": "",
            "authors": [
                {
                    "first": "G",
                    "middle": [],
                    "last": "Salton",
                    "suffix": ""
                }
            ],
            "year": 1971,
            "venue": "The SMART Retrieval System-Experiments in Automatic Document Processing",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF6": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF7": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF8": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF9": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF10": {
            "title": "Janiform intra-document analytics for reproducible research",
            "authors": [
                {
                    "first": "J",
                    "middle": [],
                    "last": "Dittrich",
                    "suffix": ""
                },
                {
                    "first": "P",
                    "middle": [],
                    "last": "Bender",
                    "suffix": ""
                }
            ],
            "year": 2015,
            "venue": "Proc. VLDB Endow.",
            "volume": "8",
            "issn": "12",
            "pages": "1972-1975",
            "other_ids": {
                "DOI": [
                    "10.14778/2824032.2824114"
                ]
            }
        },
        "BIBREF11": {
            "title": "Increasing reproducibility in IR: findings from the Dagstuhl seminar on \u201creproducibility of data-oriented experiments in e-science\u201d",
            "authors": [
                {
                    "first": "N",
                    "middle": [],
                    "last": "Ferro",
                    "suffix": ""
                },
                {
                    "first": "N",
                    "middle": [],
                    "last": "Fuhr",
                    "suffix": ""
                },
                {
                    "first": "K",
                    "middle": [],
                    "last": "J\u00e4rvelin",
                    "suffix": ""
                },
                {
                    "first": "N",
                    "middle": [],
                    "last": "Kando",
                    "suffix": ""
                },
                {
                    "first": "M",
                    "middle": [],
                    "last": "Lippold",
                    "suffix": ""
                },
                {
                    "first": "J",
                    "middle": [],
                    "last": "Zobel",
                    "suffix": ""
                }
            ],
            "year": 2016,
            "venue": "SIGIR Forum",
            "volume": "50",
            "issn": "1",
            "pages": "68-82",
            "other_ids": {
                "DOI": [
                    "10.1145/2964797.2964808"
                ]
            }
        },
        "BIBREF12": {
            "title": "SHARE: a web portal for creating and sharing executable research papers",
            "authors": [
                {
                    "first": "PV",
                    "middle": [],
                    "last": "Gorp",
                    "suffix": ""
                },
                {
                    "first": "S",
                    "middle": [],
                    "last": "Mazanek",
                    "suffix": ""
                }
            ],
            "year": 2011,
            "venue": "Procedia Comput. Sci.",
            "volume": "4",
            "issn": "",
            "pages": "589-597",
            "other_ids": {
                "DOI": [
                    "10.1016/j.procs.2011.04.062"
                ]
            }
        },
        "BIBREF13": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF14": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        }
    }
}