{
    "paper_id": "be934df35355c4aa8d2f9527f70d5d647378c520",
    "metadata": {
        "title": "How Many COVID-19 Patients Will Need Ventilators Tomorrow? *",
        "authors": [
            {
                "first": "J",
                "middle": [
                    "D"
                ],
                "last": "Dai",
                "suffix": "",
                "affiliation": {
                    "laboratory": "",
                    "institution": "Cornell University",
                    "location": {
                        "settlement": "Ithaca",
                        "region": "NY"
                    }
                },
                "email": ""
            },
            {
                "first": "Mark",
                "middle": [],
                "last": "Gluzman",
                "suffix": "",
                "affiliation": {
                    "laboratory": "",
                    "institution": "Cornell University",
                    "location": {
                        "settlement": "Ithaca",
                        "region": "NY"
                    }
                },
                "email": ""
            },
            {
                "first": "Alyf",
                "middle": [],
                "last": "Janmohamed",
                "suffix": "",
                "affiliation": {
                    "laboratory": "",
                    "institution": "Cornell University",
                    "location": {
                        "settlement": "Ithaca",
                        "region": "NY"
                    }
                },
                "email": ""
            },
            {
                "first": "Yaosheng",
                "middle": [],
                "last": "Xu",
                "suffix": "",
                "affiliation": {
                    "laboratory": "",
                    "institution": "Cornell University",
                    "location": {
                        "settlement": "Ithaca",
                        "region": "NY"
                    }
                },
                "email": ""
            }
        ]
    },
    "abstract": [
        {
            "text": "This paper develops an algorithm to predict the number of Covid-19 patients who will start to use ventilators tomorrow. This algorithm is intended to be utilized by a large hospital or a group of coordinated hospitals at the end of each day (e.g. 8pm) when the current number of non-ventilated Covid-19 patients and the predicated number of Covid-19 admissions for tomorrow are available. The predicted number of new admissions can be replaced by the numbers of Covid-19 admissions in the previous d days (including today) for some integer d \u2265 1 when such data is available. In our simulation model that is calibrated with New York City's Covid-19 data, our predictions have consistently provided reliable estimates of the number of the ventilatorstarts next day. This algorithm has been implemented through a web interface at covidvent.github.io, which is available for public usage.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Abstract"
        },
        {
            "text": "Utilizing this algorithm, our paper also suggests a ventilator ordering and returning policy. The policy will dictate at the end of each day how many ventilators should be ordered tonight from a central stockpile so that they will arrive by tomorrow morning and how many ventilators should be returned tomorrow morning to the central stockpile. In 100 runs of operating our ventilator order and return policy, no patients were denied of ventilation and there was no excessive inventory of ventilators kept at hospitals.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Abstract"
        }
    ],
    "body_text": [
        {
            "text": "Throughout this paper, the term \"patient\" refers to Covid-19 patient and the term \"hospital\" refers to one large hospital that treats Covid-19 patients or a group of hospitals in a region that have some central coordination on ventilators. Let S be the number of new patients who will require ventilator support next day (tomorrow) at this hospital. We will call these patients \"vent-starts\" or \"vent-start patients\". We provide the estimate of the number of 'vent-starts' at the end of each day when the hospital's daily numbers of on-vent and not-on-vent patients become available. We estimate this quantity using the dynamic data (available today from the hospital) and parameters (available historically, not necessarily from the hospital) as described below.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Predicting number of new patients on vents"
        },
        {
            "text": "The following dynamic data can be observed or estimated daily. ",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Dynamic data"
        },
        {
            "text": "The following parameters are static and can be estimated from historical data.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "(P.1) The probability for a newly admitted patient to belong to one of these types type 1: never-vent patient; patient will never use a vent. type 2: vent-cure patient; patent will use a vent and be cured. type 3: vent-die patient; patient will use a vent and die later.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "These probabilities are denoted by p 1 , p 2 , and p 3 , (1.1)",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "respectively. We assume that each hospitalized patient belongs to one of the these three types even though the type is not observable at admission time.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "(P.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "2) The average length-of-stay (LOS)",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "for each type of patient. Specifically, 2 . CC-BY 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity. (which was not certified by peer review)",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "The copyright holder for this preprint this version posted May 21, 2020. . https://doi.org/10.1101/2020.05.18.20105783 doi: medRxiv preprint (a) For type 1 (never-vent), the length-of-stay is equal to the number of days in hospitalization, from admission to discharge.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "(b) For type 2 (vent-cure) and type 3 (vent-die) patients, the length-of-stay is equal to number of days in hospitalization before ventilation, from admission to ventilation. Therefore, for a type 2 or type 3 patient, the length-of-stay can be better called time-to-ventilation.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "In this paper we argue that the expected number of vent-starts next day can be estimated as",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "Of course, the number of vent-starts next day S is random. We will argue that S can be modeled as a random variable that follows Poisson distribution with mean S:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "(1.4)",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "Using this model, one can easily compute an upper confidence interval bound U that satisfies",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "In Section 3, we will use the upper confidence bound U to design a policy for ordering and returning ventilators.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "2 Methodologies to justify (1.4) Suppose that we are at the end of day t. We identify two groups of patients who potentially can become vent-start patients on day t + 1: hospitalized patients who are not on the vent support (not-on-vent patients) on day t and new patients who will be admitted on day t + 1. We denote L t as the number of non-ventilated patients at the end of day t who might need the vent support in the future. (We assume L t does not include non-ventilated patients who have previously been on vent support.) On day t, there are L t not-on-vent patients in hospitals; a fraction of them, S L t+1 , will turn into vent-patients on day t + 1. We assume that the number of vent-start patients S L t+1 should be proportional to the number of non-vent patients L t . We model vent-starts S L t+1 as a random variable that follows binomial distribution with parameters L t and p L :",
            "cite_spans": [
                {
                    "start": 27,
                    "end": 32,
                    "text": "(1.4)",
                    "ref_id": null
                }
            ],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "3 . CC-BY 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity. (which was not certified by peer review)",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "The copyright holder for this preprint this version posted May 21, 2020. .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "where p L is a fixed probability that does not change over time. We discuss how to compute probability p L in Section 2.2.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "In addition, on day t + 1, there will be A t+1 new hospital admissions, and some number of them, S A t+1 , will turn into vent-patients on the same day t + 1. Similarly we assume S A t+1 is an independent binomial random variable with parameters A t+1 and p A :",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "where p A is a fixed probability that does not change over time. We discuss how to compute parameter p A in Section 2.3.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "Then we estimate the number patients who start the ventilator support on day t + 1 as",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": ". A binomial distribution Binom(n, p) can be approximated by Poisson distribution with mean np when n is large and np is moderate. We use this fact to approximate the distribution of the number of vent-start patients as Poisson distribution with mean p L L t + p A A t+1 :",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "In the following sections we propose a method of estimating parameters p L and p A .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Parameters"
        },
        {
            "text": "Each patient is assigned to one of the three patient types: never-vent patient (type 1), vent-cure patient (type 2), and vent-die patient (type 3). The type of a patient is not observable, but does not change over time.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Patient types"
        },
        {
            "text": "We assume that the probability distribution (p 1 , p 2 , p 3 ) for a patient to belong to one of these types is known (exogenously, meaning that they do not depend on the congestion levels in hospitals; of course, overly congested hospitals increase death rate.)",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Patient types"
        },
        {
            "text": "We assume that the probability of a type 2 patient becoming a ventilated patient tonight is q 2 . Similarly, we use q 3 to denote the probability for a type 3 patient to become a ditto patient tonight. To estimate q i for i = 2, 3, we note that",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Patient types"
        },
        {
            "text": "A patient cannot change type; a unknown type will eventually be revealed.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Patient types"
        },
        {
            "text": "Among L t patients who are not on vent yet on day t, we need to separate them into three types: L 1 t , L 2 t , and L 3 t .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conversion from L t"
        },
        {
            "text": ". CC-BY 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "4"
        },
        {
            "text": "The copyright holder for this preprint this version posted May 21, 2020. . https://doi.org/10.1101/2020.05.18.20105783 doi: medRxiv preprint Motivated by Theorem 1 of [3] in the setting of M t /G/\u221e queues, one expects that L k (t) is \"close\" to a Poisson random variable with mean that is proportional to",
            "cite_spans": [
                {
                    "start": 167,
                    "end": 170,
                    "text": "[3]",
                    "ref_id": null
                }
            ],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "where LOS 1 is the average length-of-stay for those patients (type 1) who never need a vent, LOS 2 = 1/q 2 and LOS 3 = 1/q 3 are average time-to-vent for type 2 and type 3 patients, respectively. Thus, we propose",
            "cite_spans": [],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "Now we can estimate parameter p L in (2.2) as",
            "cite_spans": [],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "We expect (2.4) can be properly formulated as a functional strong-law-of-large-numbers: for any t \u2265 0,",
            "cite_spans": [],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "where \u03bb > 0 is a scaling parameter representing the \"size\" of the hospital. Limits in (2.7) is also known as fluid limits as the \"market size\" \u03bb goes to infinite. See, for example [4, 5] , for a discussion of \"large-capacity\" scaling. The limit in (2.7) exhibits one form of \"state space collapse\", a term coined by [7] , meaning that the three-dimensional process L 1 (t), L 2 (t), L 3 (t) , t \u2265 0 is a deterministic multiple of the one-dimensional process L(t), t \u2265 0 when the \"market size\" \u03bb is large.",
            "cite_spans": [
                {
                    "start": 180,
                    "end": 183,
                    "text": "[4,",
                    "ref_id": "BIBREF3"
                },
                {
                    "start": 184,
                    "end": 186,
                    "text": "5]",
                    "ref_id": "BIBREF4"
                },
                {
                    "start": 316,
                    "end": 319,
                    "text": "[7]",
                    "ref_id": null
                }
            ],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "We classify the A t+1 admissions on day t + 1 by patient type. Thus,",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conversion from A t+1"
        },
        {
            "text": "are the number of admitted type 1, 2, and 3 patients on day t + 1, respectively. Following our assumption,",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conversion from A t+1"
        },
        {
            "text": ". CC-BY 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Conversion from A t+1"
        },
        {
            "text": "The copyright holder for this preprint this version posted May 21, 2020. .",
            "cite_spans": [],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "where p 1 , p 2 , p 3 are given in (1.1). Among A k t+1 type k patients admitted on day t + 1,",
            "cite_spans": [],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "will turn into type k vent-patient by the end of day t + 1, k = 2, 3. Thus, among A t+1 admissions on day t + 1,",
            "cite_spans": [],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "will turn into type k vent-patient by the end of day t + 1, k = 2, 3. Therefore, we can estimate parameter p A in (2.2) as",
            "cite_spans": [],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "(2.9)",
            "cite_spans": [],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "As before, we assume we are at the end of day t. In this section we propose a method that provides the recommended number of ventilators V t+1 to order or return. This tool is intended to ensure that the medical facilities have enough ventilators on day t + 1. The tool can also be used to detect surplus of ventilators on day t + 1, so that they can be returned to a stockpile or be transported to other locations that require them. The number of free and ready-to-use ventilators on day t + 1 has to to meet the demand of vent-start patients with probability close to 1. According to equation (1.4), number of vent-starts S t+1 follows Poisson distribution with mean S t+1 . We denote U t+1 the upper confidence bound on the vent-starts on day t + 1 as defined in (1.5).",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Ordering and returning ventilators"
        },
        {
            "text": "We also recommend to have a safety-stock pile with G ventilators on the spot that might be used in emergency, unforeseen situations. The size of the safety-stock pile is a hyperparameter and should be determined by a hospital manager who takes into account availability of vent storage facilities, vents delivery speed, etc.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Ordering and returning ventilators"
        },
        {
            "text": "Let R t be the number of free and ready-to-use ventilators on day t at 8pm. Then we recommend to order",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Ordering and returning ventilators"
        },
        {
            "text": "ventilators.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Ordering and returning ventilators"
        },
        {
            "text": "If number V t+1 is negative the hospital can return |V t+1 | ventilators back to the federal stockpile.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Ordering and returning ventilators"
        },
        {
            "text": "In this appendix, we test the accuracy of our predictions of vent-starts: mean in (1.3) and upper confidence level U in (1.5). We could not find data that included the daily statistics 6 . CC-BY 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Appendix"
        },
        {
            "text": "The copyright holder for this preprint this version posted May 21, 2020. . for vent-start patients. In order to test accuracy of vent-starts prediction and efficacy of the proposed ordering policy, we use the simulation model described in Section 4.1. We also test the effectiveness of the policy for ordering and returning ventilators.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "To verify the effectiveness of our proposed prediction model for vent-starts in a real hospital setting, we need to know the number of new patients on vents each day. We could not get access to this information even though many cities including New York City (NYC) publicize some related hospitalization data for Covid-19 patients. Therefore, we created a simulation model that would generate the number of daily vent-starts and daily hospital census numbers. Our simulation model uses actual NYC daily admissions and is calibrated so that it matches the NYC daily hospital census. We demonstrate that our predicted vent-starts, using (1.3) and (1.5), matches the vent-starts outputted from the simulation model.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Simulation model"
        },
        {
            "text": "The simulation model takes 3 inputs:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Simulation model"
        },
        {
            "text": "1. Number of hospitalized patients who are not on ventilators on day t = 1.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Simulation model"
        },
        {
            "text": "2. Number of hospitalized patients who are on ventilators on day t = 1.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Simulation model"
        },
        {
            "text": "Every new patient is independently sampled as type 1, 2 or 3 with probability p 1 , p 2 , and p 3 respectively, see (1.1). Then, their patient journey (days in hospital, days-to-vent, and days on a ventilator) is independently sampled from the following distributions depending on their type:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "New admissions per day (series) for each day."
        },
        {
            "text": "\u2022 Geom(LOS 1 ), LOS for never-vent patients,",
            "cite_spans": [],
            "ref_spans": [],
            "section": "New admissions per day (series) for each day."
        },
        {
            "text": "\u2022 Geom(LOS 2 ) and Geom(LOS 3 ) days-to-vent for type 2 and 3 patients,",
            "cite_spans": [],
            "ref_spans": [],
            "section": "New admissions per day (series) for each day."
        },
        {
            "text": "\u2022 Geom(LOS survive vent ) and Geom(LOS die vent ) days-on-vent for type 2 and 3 patients, where LOS 1 , LOS 2 , LOS 3 are defined in Section 1, LOS survive vent is the average time on ventilator support for type 2 patients before recovery, LOS die vent is the average time on ventilator support for type 3 patients before passing away.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "New admissions per day (series) for each day."
        },
        {
            "text": "We assume that it is impossible to separate type 2 and type 3 patients based on the time from hospitalization to the vent support. Therefore, we assume that 'time-to-vent' follows the same distribution for both types of patients:",
            "cite_spans": [],
            "ref_spans": [],
            "section": "New admissions per day (series) for each day."
        },
        {
            "text": "For patients that are already in hospital at the beginning of the simulation, either on ventilators or not, we make the following assumptions. If they are in the hospital but not 7 . CC-BY 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "New admissions per day (series) for each day."
        },
        {
            "text": "The copyright holder for this preprint this version posted May 21, 2020. . on ventilators, they are of type k with probabilityp k , k = 1, 2, 3, and their patient journey is sampled from the same distribution as a new patient, wher\u00ea",
            "cite_spans": [],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "are the same one in (2.5) . For patients that are already on ventilators when the simulation begins, we use a formula similar to (2.5) to determine their patient type. Specifically, they are a patient of type k with probabilityp k , k = 2, 3, wher\u0113",
            "cite_spans": [
                {
                    "start": 20,
                    "end": 25,
                    "text": "(2.5)",
                    "ref_id": null
                }
            ],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "Their length of stay is a geometric random variable with mean LOS survive vent if they are type 2 or LOS die vent if they are type 3. We also assume they are immediately discharged after their duration on a ventilator ends.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "Our simulation model demonstrates high accuracy when predicting the number of patients on ventilators in New York City using the parameters listed in Section 4.2. Figure  1 shows the expected number of patients on ventilators (red dots) and the expected range according to our simulation model (red bars). The range is the maximum and minimum number of ventilators required on a specific day across 100 runs of the simulation. The green triangles represent the real number of patients on ventilators. ",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 163,
                    "end": 172,
                    "text": "Figure  1",
                    "ref_id": "FIGREF1"
                }
            ],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "The parameters for patient type used in the simulation are p 1 = 0.7, p 2 = 0.06, p 3 = 0.24. These numbers are from the CDC website [6] and news reports which said that 80% of all ventilator patients in NYC died [2] . The parameters for length-of-stay used in the simulation are LOS 1 = 10, LOS pre-vent = 4.8, LOS survive vent = 11.9, LOS die vent = 6.1. The LOS 1 parameter is from the CDC website for Covid-19 [6] while the other 3 parameters were tuned using the total number of people on ventilators in NYC between March 16th -21st and March 24th -30th. The parameters were tuned using Bayesian optimization and the loss function was mean square error over 50 scenarios.",
            "cite_spans": [
                {
                    "start": 213,
                    "end": 216,
                    "text": "[2]",
                    "ref_id": "BIBREF1"
                }
            ],
            "ref_spans": [],
            "section": "Simulation Parameters"
        },
        {
            "text": "As an input to the simulation model we use real daily admissions of hospitalized patients with COVID-19 at New York City from March 3 to April 14. We assume that there were no hospitalized patients with COVID-19 before March 3 and we set initial number of hospitalized patients to zero for the simulation model run. The model parameters are specified in Section 4.2. In Figure 2 we show the number of on-vent and not-on-vent patients that stay in the hospital according to a simulation run. From the same simulated trajectory we can get daily information about vent-starts. In Figure 3 we plot these vent-starts in green triangles. We use these green triangles as benchmarks to test the accuracy of our prediction formulas (1.3) and (1.5). To recapitulate the prediction procedure described in Section 1, at the end of day t we observe the number of hospitalized patients L t and the historical admissions including A t , the admission on 9 . CC-BY 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 370,
                    "end": 378,
                    "text": "Figure 2",
                    "ref_id": "FIGREF2"
                },
                {
                    "start": 577,
                    "end": 585,
                    "text": "Figure 3",
                    "ref_id": "FIGREF4"
                }
            ],
            "section": "Numerical experiments"
        },
        {
            "text": "The copyright holder for this preprint this version posted May 21, 2020. . day t. Using the historial admissions, one can predict the number of new admissions A t+1 on day t + 1 using a time series model described in Section 4.4. Given L t and A t+1 , one predicts S t+1 the number of vent-start patient for the next day via Poisson model (1.4) . In Figure 3 Next we test the ordering policy proposed in Section 3. Using the prediction of the vent-starts U t+1 on day t + 1, we either order V t+1 ventilators from a central stockpile that need to be delivered by day t + 1 when V t+1 > 0 or return |V t+1 | ventilators to the central stockpile when V t+1 < 0, where V t+1 is computed according to formula (3.1) . We assume that if V t+1 < 0, the hospital sends back |V t+1 | ventilators in the morning of day t + 1. In Figure 4a we provide the number of ordered/returned ventilators on each day. We set the safety stock level to be equal to G = 10.",
            "cite_spans": [
                {
                    "start": 339,
                    "end": 344,
                    "text": "(1.4)",
                    "ref_id": null
                },
                {
                    "start": 705,
                    "end": 710,
                    "text": "(3.1)",
                    "ref_id": null
                }
            ],
            "ref_spans": [
                {
                    "start": 350,
                    "end": 358,
                    "text": "Figure 3",
                    "ref_id": "FIGREF4"
                },
                {
                    "start": 819,
                    "end": 828,
                    "text": "Figure 4a",
                    "ref_id": "FIGREF5"
                }
            ],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "In Figure 4b we show the number of unused ventilators at the end of each day that are possessed by the hospital. We note that the plot demonstrates that the hospital always has enough ventilators to satisfy the demand from patients who need ventilator support. On the other hand, the hospital is not oversupplied from the central stockpile.",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 3,
                    "end": 12,
                    "text": "Figure 4b",
                    "ref_id": "FIGREF5"
                }
            ],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": ". CC-BY 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.",
            "cite_spans": [],
            "ref_spans": [],
            "section": "10"
        },
        {
            "text": "The copyright holder for this preprint this version posted May 21, 2020. . https://doi.org/10.1101/2020.05.18.20105783 doi: medRxiv preprint We run 100 independent simulations runs to test the robustness of the proposed policy. In Figure 5 we show minimum, average and maximum number of free (ready-to-use) ventilators observed during each independent simulation run. We observe that the hospital could satisfy the demand of ventilators from vent-start patients and, at the same time, did not accumulate too many free ventilators by the end of each day. ",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 231,
                    "end": 239,
                    "text": "Figure 5",
                    "ref_id": "FIGREF6"
                }
            ],
            "section": "(which was not certified by peer review)"
        },
        {
            "text": "Since we make a short term prediction (tomorrow) of the number of hospital admissions, we use a standard time series algorithm to make this prediction, assuming historical daily admission numbers are available. We adopt the algorithm ARIMA(p, d, q) in [1] , where parameters p, d, q are tuned based on the input of historical data. It has been well developed in many library packages. For example, Python has a library function that implements this algorithm with automatic tuning. We set the algorithm to be adaptive, meaning that every 11 . CC-BY 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity. (which was not certified by peer review)",
            "cite_spans": [
                {
                    "start": 252,
                    "end": 255,
                    "text": "[1]",
                    "ref_id": "BIBREF0"
                }
            ],
            "ref_spans": [],
            "section": "Predicting the number of admissions next day"
        },
        {
            "text": "The copyright holder for this preprint this version posted May 21, 2020. . day, as a new data point becomes available, the parameters p, d, q are re-tuned and the algorithm gives a new prediction for the next day. After fitting the ARIMA model on the historical admission data, the prediction for the next day's hospital admissions closely matches the observed value. This suggests that prediction of the ARIMA model could be a reliable input for anticipated hospital daily admission next day. Figure 6 is an example of a 3-day prediction of NYC hospital daily admissions, with 95% confidence interval. is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity. (which was not certified by peer review)",
            "cite_spans": [],
            "ref_spans": [
                {
                    "start": 494,
                    "end": 502,
                    "text": "Figure 6",
                    "ref_id": "FIGREF7"
                }
            ],
            "section": "Predicting the number of admissions next day"
        },
        {
            "text": "The copyright holder for this preprint this version posted May 21, 2020. 13 . CC-BY 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity. (which was not certified by peer review)",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Predicting the number of admissions next day"
        },
        {
            "text": "The copyright holder for this preprint this version posted May 21, 2020. . https://doi.org/10.1101/2020.05.18.20105783 doi: medRxiv preprint",
            "cite_spans": [],
            "ref_spans": [],
            "section": "Predicting the number of admissions next day"
        }
    ],
    "bib_entries": {
        "BIBREF0": {
            "ref_id": "b0",
            "title": "Introduction to time series and forecasting",
            "authors": [
                {
                    "first": "J",
                    "middle": [],
                    "last": "Peter",
                    "suffix": ""
                },
                {
                    "first": "Richard",
                    "middle": [
                        "A"
                    ],
                    "last": "Brockwell",
                    "suffix": ""
                },
                {
                    "first": "",
                    "middle": [],
                    "last": "Davis",
                    "suffix": ""
                }
            ],
            "year": 2002,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF1": {
            "ref_id": "b1",
            "title": "Virus Deaths Hit New High, but Hospitalizations Slow",
            "authors": [
                {
                    "first": "Jonah",
                    "middle": [],
                    "last": "Bromwich",
                    "suffix": ""
                },
                {
                    "first": "Maria",
                    "middle": [],
                    "last": "Cramer",
                    "suffix": ""
                },
                {
                    "first": "Alan",
                    "middle": [],
                    "last": "Feuer",
                    "suffix": ""
                },
                {
                    "first": "Michael",
                    "middle": [],
                    "last": "Gold",
                    "suffix": ""
                },
                {
                    "first": "Et",
                    "middle": [],
                    "last": "Al",
                    "suffix": ""
                },
                {
                    "first": ".",
                    "middle": [
                        "N"
                    ],
                    "last": "",
                    "suffix": ""
                }
            ],
            "year": 2020,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": "",
            "other_ids": {}
        },
        "BIBREF3": {
            "ref_id": "b3",
            "title": "Pricing and capacity sizing for systems with shared resources: Approximate solutions and scaling relations",
            "authors": [
                {
                    "first": "Constantinos",
                    "middle": [],
                    "last": "Maglaras",
                    "suffix": ""
                },
                {
                    "first": "Assaf",
                    "middle": [],
                    "last": "Zeevi",
                    "suffix": ""
                }
            ],
            "year": 2003,
            "venue": "Management Science",
            "volume": "49",
            "issn": "8",
            "pages": "1018--1038",
            "other_ids": {}
        },
        "BIBREF4": {
            "ref_id": "b4",
            "title": "Pricing and design of differentiated services: Approximate analysis and structural insights",
            "authors": [
                {
                    "first": "Constantinos",
                    "middle": [],
                    "last": "Maglaras",
                    "suffix": ""
                },
                {
                    "first": "Assaf",
                    "middle": [],
                    "last": "Zeevi",
                    "suffix": ""
                }
            ],
            "year": 2005,
            "venue": "Operations Research",
            "volume": "53",
            "issn": "2",
            "pages": "242--262",
            "other_ids": {}
        }
    },
    "ref_entries": {
        "FIGREF0": {
            "text": "D.1) L: the number of hospitalized patients who are not on vents today. (D.2) A: an estimate of the next day's number of new hospital admissions. We consider a time-series method for predicting A in Section 4.4.",
            "latex": null,
            "type": "figure"
        },
        "FIGREF1": {
            "text": "Comparison of the number of patients on ventilators. NYC data is missing on many days.",
            "latex": null,
            "type": "figure"
        },
        "FIGREF2": {
            "text": "The number of on-vent patients and the number of not-on-vent-patents from the simulation model. The simulation output is from one simulation run.",
            "latex": null,
            "type": "figure"
        },
        "FIGREF3": {
            "text": "red circles show the expected number of vent-starts, S t+1 , computed by equation (1.3) on each day t + 1, t = 0, ..., 42. The top of the red bars correspond to U t , the upper confidence bound on the vent-starts computed from (1.5).",
            "latex": null,
            "type": "figure"
        },
        "FIGREF4": {
            "text": "Prediction accuracy of the number of vent-start patients. The green triangles shows the number of vent-start patients according to the simulated trajectory, the red circles -expected number of the vent-starts according to(1.3), the top of the red error bar -upper confidence bound on the vent-starts according to(1.5).",
            "latex": null,
            "type": "figure"
        },
        "FIGREF5": {
            "text": "Efficiency of the recommend policy. (a) The daily number of ventilators ordered/returned according to the policy, (b) surplus of ventilators at the end of each day.",
            "latex": null,
            "type": "figure"
        },
        "FIGREF6": {
            "text": "Robustness of the policy for ordering and returning ventilators. No patients were denied of ventilation, no excessive inventory of ventilators kept at the hospital.",
            "latex": null,
            "type": "figure"
        },
        "FIGREF7": {
            "text": "New",
            "latex": null,
            "type": "figure"
        },
        "TABREF0": {
            "text": ". https://doi.org/10.1101/2020.05.18.20105783 doi: medRxiv preprint [6] Division of Viral Diseases National Center for Immunization and Respiratory Diseases (NCIRD). Management of Patients with Confirmed 2019-nCoV, 2020. https://www.cdc.gov/coronavirus/2019-ncov/hcp/clinical-guidancemanagement-patients.html. [7] Martin I. Reiman. Some diffusion approximations with state space collapse. In Modelling and Performance Evaluation Methodology, pages 207-240. Springer-Verlag, 1984.",
            "latex": null,
            "type": "table"
        }
    },
    "back_matter": []
}