{
    "paper_id": "PMC7148076",
    "metadata": {
        "title": "MathSeer: A Math-Aware Search Interface with Intuitive Formula Editing, Reuse, and Lookup",
        "authors": [
            {
                "first": "Joemon",
                "middle": [
                    "M."
                ],
                "last": "Jose",
                "suffix": "",
                "email": "joemon.jose@glasgow.ac.uk",
                "affiliation": {}
            },
            {
                "first": "Emine",
                "middle": [],
                "last": "Yilmaz",
                "suffix": "",
                "email": "emine.yilmaz@ucl.ac.uk",
                "affiliation": {}
            },
            {
                "first": "Jo\u00e3o",
                "middle": [],
                "last": "Magalh\u00e3es",
                "suffix": "",
                "email": "jm.magalhaes@fct.unl.pt",
                "affiliation": {}
            },
            {
                "first": "Pablo",
                "middle": [],
                "last": "Castells",
                "suffix": "",
                "email": "pablo.castells@uam.es",
                "affiliation": {}
            },
            {
                "first": "Nicola",
                "middle": [],
                "last": "Ferro",
                "suffix": "",
                "email": "ferro@dei.unipd.it",
                "affiliation": {}
            },
            {
                "first": "M\u00e1rio",
                "middle": [
                    "J."
                ],
                "last": "Silva",
                "suffix": "",
                "email": "mjs@inesc-id.pt",
                "affiliation": {}
            },
            {
                "first": "Fl\u00e1vio",
                "middle": [],
                "last": "Martins",
                "suffix": "",
                "email": "flaviomartins@acm.org",
                "affiliation": {}
            },
            {
                "first": "Gavin",
                "middle": [],
                "last": "Nishizawa",
                "suffix": "",
                "email": "ghn6069@rit.edu",
                "affiliation": {}
            },
            {
                "first": "Jennifer",
                "middle": [],
                "last": "Liu",
                "suffix": "",
                "email": "jwt7689@rit.edu",
                "affiliation": {}
            },
            {
                "first": "Yancarlos",
                "middle": [],
                "last": "Diaz",
                "suffix": "",
                "email": "yxd3549@rit.edu",
                "affiliation": {}
            },
            {
                "first": "Abishai",
                "middle": [],
                "last": "Dmello",
                "suffix": "",
                "email": "ad7527@rit.edu",
                "affiliation": {}
            },
            {
                "first": "Wei",
                "middle": [],
                "last": "Zhong",
                "suffix": "",
                "email": "wxz8033@rit.edu",
                "affiliation": {}
            },
            {
                "first": "Richard",
                "middle": [],
                "last": "Zanibbi",
                "suffix": "",
                "email": "rxzvcs@rit.edu",
                "affiliation": {}
            }
        ]
    },
    "body_text": [
        {
            "text": "Math-aware search engines supporting keyword and formula search have been around since at least 2003, when the Digital Library of Mathematical Functions1 supported  in queries [13]. The new information that sophisticated math retrieval would provide, such as more easily locating definitions of symbols and other notations, finding usage, proofs and mathematical properties across disciplines, and compiling information on applications (e.g., variations of the log loss for machine learning) has stimulated work in math-aware search, alongside parallel developments in math question answering within the Natural Language Processing community [2]. To realize their full potential, math-aware search interfaces must be engaging and easy-to-use for different levels of expertise, and particularly for non-experts (e.g., students in middle school).",
            "cite_spans": [
                {
                    "start": 177,
                    "end": 179,
                    "mention": "13",
                    "ref_id": "BIBREF4"
                },
                {
                    "start": 643,
                    "end": 644,
                    "mention": "2",
                    "ref_id": "BIBREF7"
                }
            ],
            "section": "Introduction",
            "ref_spans": []
        },
        {
            "text": "Formula Entry. Let\u2019s first consider the problem of creating formulas. While formulas such as \u2018\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$y = x^2 + 1$$\\end{document}\u2019 can be easily written in , others such as:1\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\begin{aligned} \\varvec{\\nabla } \\times \\varvec{F} = \\left( \\frac{\\partial F_z}{\\partial y} - \\frac{\\partial F_y}{\\partial z} \\right) \\mathbf {i} + \\left( \\frac{\\partial F_x}{\\partial z} - \\frac{\\partial F_z}{\\partial x} \\right) \\mathbf {j} + \\left( \\frac{\\partial F_y}{\\partial x} - \\frac{\\partial F_x}{\\partial y} \\right) \\mathbf {k} \\end{aligned}$$\\end{document}are large, complex, and contain symbols that many non-experts cannot name let alone express in a query. Despite this, most math-aware search engines are restricted to two forms of input: (1)  (or MathML) entry in text boxes, and (2) visual template editors similar to the Microsoft Equation Editor [11, 13]. Many users find template editors confining, and so the text box approach is the most common, often in combination with a palette used to insert symbols and structures in the entry box. Text input is used by most online math-aware systems, including DLMF [8], WebMIAS [10], Math WebSearch [3], Wolfram Alpha, SymboLab, SearchOnMath, and the (now-defunct) Springer  Search.",
            "cite_spans": [
                {
                    "start": 1368,
                    "end": 1370,
                    "mention": "11",
                    "ref_id": "BIBREF2"
                },
                {
                    "start": 1372,
                    "end": 1374,
                    "mention": "13",
                    "ref_id": "BIBREF4"
                },
                {
                    "start": 1632,
                    "end": 1633,
                    "mention": "8",
                    "ref_id": "BIBREF13"
                },
                {
                    "start": 1645,
                    "end": 1647,
                    "mention": "10",
                    "ref_id": "BIBREF1"
                },
                {
                    "start": 1666,
                    "end": 1667,
                    "mention": "3",
                    "ref_id": "BIBREF8"
                }
            ],
            "section": "Interface Design Elements",
            "ref_spans": []
        },
        {
            "text": "Two challenges for text-based input are (1) most users are unfamiliar with  (even fewer know MathML), and (2) rendered formulas are shown separately from input, leading to users having difficulty locating entry errors [14]. Appealing solutions to these issues are handwritten formula input, formula image upload, and supporting the analogy of physically moving symbols around on a page [15]. These are key design elements in the MathSeer interface. In one study, a majority of the undergraduate participants reported preferring drawing over typing formulas given a choice between the two [12]. They also expressed formulas with handwriting that they could not using a keyboard (e.g., \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$4 \\atopwithdelims ()2$$\\end{document}).",
            "cite_spans": [
                {
                    "start": 219,
                    "end": 221,
                    "mention": "14",
                    "ref_id": "BIBREF5"
                },
                {
                    "start": 387,
                    "end": 389,
                    "mention": "15",
                    "ref_id": "BIBREF6"
                },
                {
                    "start": 589,
                    "end": 591,
                    "mention": "12",
                    "ref_id": "BIBREF3"
                }
            ],
            "section": "Interface Design Elements",
            "ref_spans": []
        },
        {
            "text": "To address these issues, our MathSeer search interface (see Fig. 1) allows formula input using a combination of typing , uploading formula images, and drawing formulas by hand.2 In MathSeer handwritten symbols are recognized each time a user stops drawing for a short time. Pressing a button recognizes formula structure, and copies the  result into the panel at the bottom-left of the interface. The  can then be edited, with a rendering of the formula updated in real-time (e.g., to quickly change \u2018p\u2019 to \u2018P\u2019). At bottom-right, palettes containing symbols and structures may be used to insert corresponding  at the cursor position in the  panel.",
            "cite_spans": [],
            "section": "Interface Design Elements",
            "ref_spans": [
                {
                    "start": 65,
                    "end": 66,
                    "mention": "1",
                    "ref_id": "FIGREF0"
                }
            ]
        },
        {
            "text": "Images may be dragged-and-dropped on the canvas or uploaded using a button that presents a file navigation pop-up window. This produces a formula \u2018chip\u2019 on the canvas, which can be used directly in a query, edited, or used in constructing other formulas. A line-of-sight graph-based parsing technique is used to recognize formula images and handwritten formulas [4].",
            "cite_spans": [
                {
                    "start": 363,
                    "end": 364,
                    "mention": "4",
                    "ref_id": "BIBREF9"
                }
            ],
            "section": "Interface Design Elements",
            "ref_spans": []
        },
        {
            "text": "Users can freely alternate between drawing and manipulating symbols on the canvas, uploading images, and editing the  panel contents. Robust undo/redo operations are provided to easily reverse operations. Formulas in the query bar can be chosen for editing by clicking on them, allowing for quick switching between formulas. Mansouri et al. found that users search for math with keywords or in the context of a question [6]. In order to help the user add additional information for their query, MathSeer also supports keywords in their search queries (see Fig. 1).\n",
            "cite_spans": [
                {
                    "start": 421,
                    "end": 422,
                    "mention": "6",
                    "ref_id": "BIBREF11"
                }
            ],
            "section": "Interface Design Elements",
            "ref_spans": [
                {
                    "start": 561,
                    "end": 562,
                    "mention": "1",
                    "ref_id": "FIGREF0"
                }
            ]
        },
        {
            "text": "Formula Containers and Reuse (\u2018Chips\u2019). Handwritten formula entry is convenient for small expressions, but for large expressions such as Eq. 1 handwriting is slow [12], and accurate recognition is challenging [5]. Users may also want to avoid re-entering formulas, and to share formulas with others [12].",
            "cite_spans": [
                {
                    "start": 164,
                    "end": 166,
                    "mention": "12",
                    "ref_id": "BIBREF3"
                },
                {
                    "start": 210,
                    "end": 211,
                    "mention": "5",
                    "ref_id": "BIBREF10"
                },
                {
                    "start": 300,
                    "end": 302,
                    "mention": "12",
                    "ref_id": "BIBREF3"
                }
            ],
            "section": "Interface Design Elements",
            "ref_spans": []
        },
        {
            "text": "MathSeer introduces a new model for formula reuse, flexible containers that we call formula \u2018chips\u2019. Figure 1 shows a chip in the query bar, and there are two \u2018favorite\u2019 chips in a list at bottom-right. Chips can be created and used in a number of ways. In addition to the formula creation operations described above, chips can be created by selecting symbols on the canvas and \u2018popping\u2019 them up into a chip. All formula chips have their creation history automatically recorded, and are stored in a \u2018history\u2019 menu in the symbol palette panel. On the canvas, chips may be easily moved, resized, and \u2018pushed\u2019 onto the canvas (i.e., the symbols on the chip are added to the canvas, and the chip disappears).",
            "cite_spans": [],
            "section": "Interface Design Elements",
            "ref_spans": [
                {
                    "start": 108,
                    "end": 109,
                    "mention": "1",
                    "ref_id": "FIGREF0"
                }
            ]
        },
        {
            "text": "Chips have two possible states: \u2018recognized\u2019 chips containing a  string, and \u2018template\u2019 chips representing only symbols on a canvas. Chips that are \u2018favorites\u2019 are shown using an orange border, and are either a recognized or template chip. As an example use for template (grey) chips, \u2018\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\int dx$$\\end{document}\u2019 with a large space in the middle can be used as a template to quickly create other formulas with an integral, by dragging and dropping the chip from the favorites or history tab in the palette panel to the canvas. Recognized (blue) chips in the history and favorites tabs in the palette panel can also be used like palette buttons - clicking on them inserts their interpretation in the  panel, making it easy to re-use and insert large formulas. Chips may also be exported as images with metadata containing all chip data, allowing chip images to be later reused in MathSeer (e.g., using drag-and-drop) or shared with others (e.g., over email). Using chips for formula containers was inspired by the Approach0 interface.3\n",
            "cite_spans": [],
            "section": "Interface Design Elements",
            "ref_spans": []
        },
        {
            "text": "MathSeer records the entire editing session, including all formula chips using an automatically generated URL that users can revisit later. The idea to use a URL to record editing state came from discussions with the creators of 2dsearch [9].",
            "cite_spans": [
                {
                    "start": 239,
                    "end": 240,
                    "mention": "9",
                    "ref_id": "BIBREF14"
                }
            ],
            "section": "Interface Design Elements",
            "ref_spans": []
        },
        {
            "text": "Math Entity Cards. To support formula autocompletion using online data (e.g., from Wikidata), we use a new type of entity card that provides concept names and descriptions for formulas. We use these to provide names and descriptions for individual symbols and formulas in real-time as they are entered [1]. Formula search over the card collection is done using Tangent-CFT embedding vectors [7]. In addition, we will soon allow formulas to be quickly found by searching concept names on cards (e.g., typing \u2018Pyt\u2019 brings up the card and formula for the Pythagorean Theorem). Further, we plan to allow users to create their own entity cards for formula chips. An illustration of math entity cards is shown in Fig. 2. This view is expanded to show the full cards; in the unexpanded view only the formulas and titles are visible.\n",
            "cite_spans": [
                {
                    "start": 303,
                    "end": 304,
                    "mention": "1",
                    "ref_id": "BIBREF0"
                },
                {
                    "start": 392,
                    "end": 393,
                    "mention": "7",
                    "ref_id": "BIBREF12"
                }
            ],
            "section": "Interface Design Elements",
            "ref_spans": [
                {
                    "start": 712,
                    "end": 713,
                    "mention": "2",
                    "ref_id": "FIGREF1"
                }
            ]
        },
        {
            "text": "The MathSeer interface addresses limitations of the standard text box + symbol palette formula entry technique common in math-aware search interfaces. MathSeer\u2019s interface supports multimodal formula editing through handwritten, , and image input. We have introduced formula chips, a new container to support storage, reuse, editing, and sharing of formulas. The chip creation history and favorites list support quick query reformulation and reuse. In future work, we are considering manual editing operations to define spatial relationships between symbols and/or sub-expressions to avoid recognizing complex formulas.",
            "cite_spans": [],
            "section": "Conclusion and Future Work",
            "ref_spans": []
        }
    ],
    "ref_entries": {
        "FIGREF0": {
            "text": "Fig. 1.: MathSeer interface. Query formulas and keywords are \u2018chips\u2019 at top left; keywords are entered using the box at top right. Formulas are created by manipulating symbols on the canvas, uploading formula images, and editing  in the panel at bottom left. At bottom-right is a panel for \u2018favorite\u2019 formulas (two are shown here), the formula history, and palettes for symbols and structures to insert in the  panel.",
            "type": "figure"
        },
        "FIGREF1": {
            "text": "Fig. 2.: Expanded auto-complete results displaying entity cards with similar formulas.",
            "type": "figure"
        }
    },
    "back_matter": [],
    "bib_entries": {
        "BIBREF0": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF1": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF2": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF3": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF4": {
            "title": "Recognition and retrieval of mathematical expressions",
            "authors": [
                {
                    "first": "R",
                    "middle": [],
                    "last": "Zanibbi",
                    "suffix": ""
                },
                {
                    "first": "D",
                    "middle": [],
                    "last": "Blostein",
                    "suffix": ""
                }
            ],
            "year": 2012,
            "venue": "IJDAR",
            "volume": "15",
            "issn": "4",
            "pages": "331-357",
            "other_ids": {
                "DOI": [
                    "10.1007/s10032-011-0174-4"
                ]
            }
        },
        "BIBREF5": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF6": {
            "title": "Math search for the masses: multimodal search interfaces and appearance-based retrieval",
            "authors": [
                {
                    "first": "R",
                    "middle": [],
                    "last": "Zanibbi",
                    "suffix": ""
                },
                {
                    "first": "A",
                    "middle": [],
                    "last": "Orakwue",
                    "suffix": ""
                }
            ],
            "year": 2015,
            "venue": "Intelligent Computer Mathematics",
            "volume": "",
            "issn": "",
            "pages": "18-36",
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF7": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF8": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF9": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF10": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF11": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF12": {
            "title": "",
            "authors": [],
            "year": null,
            "venue": "",
            "volume": "",
            "issn": "",
            "pages": null,
            "other_ids": {
                "DOI": []
            }
        },
        "BIBREF13": {
            "title": "Technical aspects of the Digital Library of Mathematical Functions",
            "authors": [
                {
                    "first": "BR",
                    "middle": [],
                    "last": "Miller",
                    "suffix": ""
                },
                {
                    "first": "A",
                    "middle": [],
                    "last": "Youssef",
                    "suffix": ""
                }
            ],
            "year": 2003,
            "venue": "Ann. Math. Artif. Intell.",
            "volume": "38",
            "issn": "1\u20133",
            "pages": "121-136",
            "other_ids": {
                "DOI": [
                    "10.1023/A:1022967814992"
                ]
            }
        },
        "BIBREF14": {
            "title": "Rethinking \u2018advanced search\u2019: A new approach to complex query formulation",
            "authors": [
                {
                    "first": "T",
                    "middle": [],
                    "last": "Russell-Rose",
                    "suffix": ""
                },
                {
                    "first": "J",
                    "middle": [],
                    "last": "Chamberlain",
                    "suffix": ""
                },
                {
                    "first": "U",
                    "middle": [],
                    "last": "Kruschwitz",
                    "suffix": ""
                }
            ],
            "year": 2019,
            "venue": "Advances in Information Retrieval",
            "volume": "",
            "issn": "",
            "pages": "236-240",
            "other_ids": {
                "DOI": []
            }
        }
    }
}